(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{333:function(e,t,a){e.exports=a.p+"static/media/bg-singin.b181f506.png"},338:function(e,t,a){e.exports=a.p+"static/media/download-picture.0c0e7e11.png"},51:function(e,t,a){e.exports=a.p+"static/media/prello-logo-2.2fc2e951.png"},5581:function(e,t,a){e.exports=a(5901)},5699:function(e,t){},5859:function(e,t){},5901:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(49),o=a(18),s={urlFromObject:function(e){if(e){for(var t=Object.keys(e),a=Object.values(e),n="?",r=0;r<t.length;r++)n+=t[r]+"="+a[r],r<t.length-1&&(n+="&");return n}return""}},c=a(79),l=Object(c.a)(),d={copy:function(e){return JSON.parse(JSON.stringify(e))},isTypeEmail:function(e){try{var t=e.split("@"),a=t[1].split("."),n=e.split(".");return 2===t.length&&2===a.length&&n.length>1}catch(r){return!1}},computeListOrder:function(e){var t=[],a=0,n=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c={listId:o.value.listId,listFather:a};t.push(c),a+=1}}catch(l){r=!0,i=l}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t},computeCardOrder:function(e){var t=[],a=0,n=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value,l=!0,d=!1,m=void 0;try{for(var u,p=c.CardListFks[Symbol.iterator]();!(l=(u=p.next()).done);l=!0){var h={cardId:u.value.cardId,cardFather:a};t.push(h),a+=1}}catch(E){d=!0,m=E}finally{try{l||null==p.return||p.return()}finally{if(d)throw m}}a=0}}catch(E){r=!0,i=E}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t}},m=a(53),u=a(328),p=a(5),h=a(55),E=a.n(h),b="https://prello-ig.herokuapp.com/api/",f={BASE_URL:b,SOCKET_URL:"https://prello-ig.herokuapp.com",headers:{Authorization:localStorage.getItem("memberToken")},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:localStorage.getItem("memberToken");return E.a.defaults.headers.common.Authorization=t,E.a.get(b+e)},post:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage.getItem("memberToken");return E.a.defaults.headers.common.Authorization=a,E.a.post(b+e,t)},put:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage.getItem("memberToken");return E.a.defaults.headers.common.Authorization=a,E.a.put(b+e,t)},delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:localStorage.getItem("memberToken");return E.a.defaults.headers.common.Authorization=t,E.a.delete(b+e)}},g={getAll:function(e){var t=Ue.Request.urlFromObject(e);return f.get("action/find_all"+t).then(function(e){return e.data})},get:function(e){var t=Ue.Request.urlFromObject(e);return f.get("action/find_one"+t).then(function(e){return e.data})},getNonArchived:function(){return f.get("action/find_all_unarchived").then(function(e){return e.data})},updateMultiple:function(e){var t={memberHasAction:e};return f.put("action/update_multiple",t).then(function(e){return e.data})},createActivityForAllMembers:function(e){var t=Ue.Request.urlFromObject({projectId:e.projectId});return f.post("action/create_mha_from_array"+t,e).then(function(e){return e.data})}},O={getAll:function(){return f.get("card/find_all").then(function(e){return e.data})},get:function(e){var t=Ue.Request.urlFromObject(e);return f.get("card/find_one"+t).then(function(e){return e.data})},create:function(e){return f.post("card/create",e).then(function(e){return e.data})},createLinkLabel:function(e){return f.post("card/create_card_has_label",e).then(function(e){return e.data})},deleteLinkLabel:function(e){var t=Ue.Request.urlFromObject(e);return f.delete("card/delete_card_has_label"+t).then(function(e){return e.data})},update:function(e,t){return f.put("card/update/"+e,t).then(function(e){return e.data})},searchbarCards:function(e){var t=Ue.Request.urlFromObject(e);return f.get("card/find_all_searchbar"+t).then(function(e){return e.data})},delete:function(e){var t=Ue.Request.urlFromObject(e);return f.delete("card/delete"+t).then(function(e){return e.data})},findAllMembers:function(e){var t=Ue.Request.urlFromObject(e);return f.get("card/find_all_members"+t).then(function(e){return e.data})},addMember:function(e){return f.post("card/create_member_has_card",e).then(function(e){return e.data})},removeMember:function(e){var t=Ue.Request.urlFromObject(e);return f.delete("card/delete_member_has_card"+t).then(function(e){return e.data})},updateCardOrder:function(e){return f.put("card/update_card_order",{cards:e}).then(function(e){return e.data})}},R={getAll:function(e){return f.get("list/find_all/"+e).then(function(e){return e.data})},get:function(e){var t=Ue.Request.urlFromObject(e);return f.get("list/find_one/1"+t).then(function(e){return e.data})},create:function(e){return f.post("list/create",e).then(function(e){return e.data})},update:function(e,t){return f.put("list/update/"+e,t).then(function(e){return e.data})},delete:function(e){return f.delete("list/delete/"+e).then(function(e){return e.data})},searchbarLists:function(e){var t=Ue.Request.urlFromObject(e);return f.get("list/find_all_searchbar"+t).then(function(e){return e.data})},updateListOrder:function(e){return f.put("list/update_list_order",{lists:e}).then(function(e){return e.data})}},_={createIfNotExist:function(e){var t=Ue.Request.urlFromObject({memberEmail:e.memberEmail});return f.post("member/create_if_not_exist"+t,e).then(function(e){return e.data})},signIn:function(e){return f.post("member/sign_in",e).then(function(e){return e.data})},signInWithGithub:function(){return f.get("member/sign_in_with_github").then(function(e){return e.data})},signUp:function(e){var t=Ue.Request.urlFromObject({memberEmail:e.memberEmail,memberPseudo:e.memberPseudo});return f.post("member/sign_up"+t,e).then(function(e){return e.data})},updateMemberInvitation:function(e){return f.put("member/update_sign_up?memberEmail="+e.memberEmail,e).then(function(e){return e.data})},validateAccount:function(e){return f.put("member/validate_account",null,e).then(function(e){return e.data})},isLogged:function(){var e=localStorage.getItem("memberToken");return e?f.get("member/is_logged?memberToken="+e).then(function(e){return{member:e.data.member,isLogged:!0}}).catch(function(e){return localStorage.removeItem("memberToken"),{isLogged:!1}}):{isLogged:!1}},get:function(e){var t=Ue.Request.urlFromObject(e);return f.get("member/find_one"+t).then(function(e){return e.data})},update:function(e){var t=Ue.Request.urlFromObject({memberId:e.memberId});return f.put("member/update"+t,e).then(function(e){return e.data})},updatePassword:function(e){var t=Ue.Request.urlFromObject({memberId:e.memberId,memberPassword:e.memberPassword}),a={memberPassword:e.newMemberPassword};return f.put("member/update_password"+t,a).then(function(e){return e.data})},sendNewPassword:function(e){var t={memberEmail:e};return f.post("member/password_forgotten",t).then(function(e){return e.data})},decrpytInvitation:function(e){return f.get("member/decrypt_invitation",e).then(function(e){return e.data})},getInvitation:function(e){var t=Ue.Request.urlFromObject(e);return f.get("member/find_one_invitation"+t).then(function(e){return e.data})},updateInvitation:function(e,t){var a=Ue.Request.urlFromObject(t);return f.put("member/update_invitation"+a,e).then(function(e){return e.data})},deleteInvitation:function(e){var t=Ue.Request.urlFromObject(e);return f.delete("member/delete_invitation"+t).then(function(e){return e.data})},updateProfilePicture:function(e,t){E.a.defaults.headers.common.Authorization=localStorage.getItem("memberToken"),E.a.defaults.headers.common["Content-Type"]="multipart/form-data";var a=Ue.Request.urlFromObject({memberId:t});return E.a.put(f.BASE_URL+"member/update_picture"+a,e).then(function(e){return e.data})}},j={createMemberProjectPermission:function(e,t,a,n){var r={memberId:e,projectId:t,permissionId:a,mhppState:n};return f.post("permission/create_for_project",r).then(function(e){return e.data})},getAllOnProject:function(e){var t=Ue.Request.urlFromObject(e);return f.get("permission/find_all_for_project"+t).then(function(e){return e.data})},updateOnProject:function(e,t){var a=Ue.Request.urlFromObject(e);return f.put("permission/update_for_project"+a,t).then(function(e){return e.data})},deleteForMemberOnProject:function(e){var t=Ue.Request.urlFromObject(e);return f.delete("permission/delete_for_project"+t).then(function(e){return e.data})}},C={getAll:function(){return f.get("project/find_all").then(function(e){return e.data})},getAllProjectsForMember:function(e){var t=Ue.Request.urlFromObject(e);return f.get("project/find_all_projects_member"+t).then(function(e){return e.data})},getAllWithCards:function(e){var t=Ue.Request.urlFromObject(e);return f.get("project/find_all_lists_cards"+t).then(function(e){return e.data})},getAllProjectsMember:function(e){return f.get("project/find_all_member/"+e).then(function(e){return e.data}).catch(function(e){return e.error})},getAllMembers:function(e){var t=Ue.Request.urlFromObject(e);return f.get("project/find_all_members"+t).then(function(e){return e.data})},getAllActions:function(e){var t=Ue.Request.urlFromObject(e);return f.get("project/find_all_actions"+t).then(function(e){return e.data})},get:function(e){var t=Ue.Request.urlFromObject(e);return f.get("project/find_one"+t).then(function(e){return e.data})},getOne:function(e){return f.get("project/find_one/"+e).then(function(e){return e.data})},update:function(e,t){return f.put("project/update/"+e,t).then(function(e){return e.data})},createProject:function(e,t){var a={projectTitle:e,projectVisibility:t,projectStatus:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,projectDateTarget:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null};return f.post("project/create",a).then(function(e){return e.data})},createMemberHasProject:function(e,t,a){var n={memberId:e,projectId:t,memberhasprojectStatus:a,projectIsFavorite:arguments.length>3&&void 0!==arguments[3]&&arguments[3]};return f.post("project/createMemberHasProject",n).then(function(e){return e.data})},updateMemberHasProject:function(e){return f.put("".concat("project/","update_memberhasProject").concat(Ue.Request.urlFromObject(e))).then(function(e){return e.data})},searchbarProjects:function(e){var t=Ue.Request.urlFromObject(e);return f.get("project/find_all_searchbar"+t).then(function(e){return e.data})},getMemberHasProject:function(e){var t=Ue.Request.urlFromObject(e);return f.get("project/member_has_project"+t).then(function(e){return e.data})},getLabels:function(){},sendInvitation:function(e){},createAndSendInvitation:function(e){return f.post("project/create_invitation",e).then(function(e){return e.data})},getMemberStatus:function(e){var t=Ue.Request.urlFromObject(e);return f.get("project/member_is_admin"+t).then(function(e){return e.data})},createProjectForMember:function(e){return f.post("project/create_mhp",e).then(function(e){return e.data})},createProjectFix:function(e){return f.post("project/create",e).then(function(e){return e.data})},updateFix:function(e,t){var a=Ue.Request.urlFromObject(e);return f.put("project/update_mhp"+a,t).then(function(e){return e.data})},getActivity:function(e){}},T={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&null!=e?f.get("team/find_all/"+e).then(function(e){return e.data}):f.get("team/find_all").then(function(e){return e.data})},get:function(e){var t=Ue.Request.urlFromObject(e);return f.get("team/find_one"+t).then(function(e){return e.data})},create:function(e){return f.post("team/create",e).then(function(e){return e.data})},update:function(e,t){return f.put("team/update/"+e,t).then(function(e){return e.data})}},y={create:function(e){return f.post("task/create",e).then(function(e){return e.data})},update:function(e,t){var a=Ue.Request.urlFromObject(e);return f.put("task/update"+a,t).then(function(e){return e.data})},delete:function(e){var t=Ue.Request.urlFromObject(e);return f.delete("task/delete"+t).then(function(e){return e.data})}},A={getAll:function(e){var t=Ue.Request.urlFromObject(e);return f.get("label/find_all"+t).then(function(e){return e.data})}},I={Api:f,Action:g,Card:O,List:R,Member:_,Permission:j,Project:C,Team:T,Task:y,Label:A},v=a(74),L=a.n(v),S={LOAD_DASHBOARD:"LOAD_DASHBOARD",SELECT_PROJECT:"project:select_one",FIND_ONE_PROJECT:"project:find_one",RECEIVE_PROJECT:"project:received",SELECT_ALL_PROJECT:"project:select_all",SELECT_ALL_PROJECT_MEMBER:"project:select_all_project_member",SELECT_ALL_TEAM_MEMBER:"project:select_all_team_member",CREATE_NEW_PROJECT:"project:create_new",UPDATE_MEMBER_HAS_PROJECT:"project:update_member_has_project",DASHBOARD_ACTION_ERROR:"project:dashboard_error",DASHBOARD_HIDE_ERROR_MSG:"project:hide_error_msg"},D=function(){return{type:S.FIND_ONE_PROJECT}},P=function(e){return{type:S.RECEIVE_PROJECT,payload:e.project}};var k={labels:S,fetchProject:function(e){return function(t){t(D()),I.Project.get(e).then(function(e){t(P({project:e}))}).catch(function(e){console.log("Error : ",e)})}},getAllProjectsMember:function(e){return function(t){t({type:S.LOAD_DASHBOARD}),I.Project.getAllProjectsMember(e).then(function(e){t({type:S.SELECT_ALL_PROJECT_MEMBER,payload:e})}).catch(function(e){console.log(e),t({type:S.DASHBOARD_ACTION_ERROR,errorMsg:"We can't load your project for the moment, please try later or contact an administrator."})})}},createProject:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return function(s){return I.Project.createProject(e,t,a,n).then(function(c){var l=c.projectId;I.Project.createMemberHasProject(r,l,i).then(function(){var i={projectId:l,projectTitle:e,projectVisibility:t,projectStatus:a,projectDateTarget:n};I.Permission.createMemberProjectPermission(r,l,3,!0).then(function(t){I.Action.createActivityForAllMembers({actionType:0,actionTitle:"Project was created",actionDescription:o.memberPseudo+" has create the project '"+e+"'.",memberId:r,projectId:l,actionDateCreation:L()(),mhaStatus:0}).then(function(e){s({type:S.CREATE_NEW_PROJECT,payload:i}),Ue.History.push("/project/"+l)}).catch(function(e){console.log(e)})})})}).catch(function(e){s({type:S.DASHBOARD_ACTION_ERROR,errorMsg:"The project wasn`t able to be created. Please try later or contact an administrator."})})}},updateMemberHasProject:function(e,t,a){var n={projectId:e,memberId:t,projectIsFavorite:a};return function(t){return I.Project.updateMemberHasProject(n).then(function(n){t({type:S.UPDATE_MEMBER_HAS_PROJECT,payload:{projectId:e,projectIsFavorite:a}})}).catch(function(e){t({type:S.DASHBOARD_ACTION_ERROR,errorMsg:"impossible to execute this action"})})}},hideErrorMessage:function(){return function(e){return e({type:S.DASHBOARD_HIDE_ERROR_MSG})}},getAllTeams:function(e){return function(t){I.Team.getAll(e).then(function(e){t({type:S.SELECT_ALL_TEAM_MEMBER,payload:e})}).catch(function(){return t({type:S.DASHBOARD_ACTION_ERROR,errorMsg:"Impossible to load your team for the moment. Please try later or contact an administrator."})})}}},M=k.labels,N={projects:[],teams:[]};var w={LOGIN:"LOGIN",ERROR:"ERROR",CREATE_USER:"CREATE_USER",IS_LOGGED:"IS_LOGGED",IS_NOT_LOGGED:"IS_NOT_LOGGED",NEW_PASSWORD_SENT:"NEW_PASSWORD_SENT",NEW_PASSWORD_FAILED:"NEW_PASSWORD_FAILED",RESET_FIELD:"RESET_FIELD"},x=function(e){return{type:w.LOGIN,payload:{member:e}}},F={type:w.ERROR,payload:"Email or password is incorrect."};var B={labels:w,signin:function(e,t,a){var n={memberEmail:e,memberPassword:t};return function(e){I.Member.signIn(n).then(function(t){localStorage.setItem("memberToken",t.memberToken),e(x(t)),a&&Ue.History.push(a)}).catch(function(t){e(F)})}},signinWithGithub:function(){return function(e){I.Member.signInWithGithub().then(function(e){window.location.assign(e)}).catch(function(t){e(F)})}},confirmSigninGithub:function(e,t){var a={memberEmail:e};return localStorage.setItem("memberToken",t),function(e){I.Member.get(a).then(function(t){console.log("res get \n",t),Ue.History.push("/home"),e(x(t))}).catch(function(t){e(F)})}},isMemberLoggedGithub:function(){return function(e){localStorage.getItem("memberToken")?I.Member.isLogged().then(function(t){e({type:w.IS_LOGGED,payload:t}),Ue.History.push("/home")}):(e({type:w.IS_NOT_LOGGED,payload:{isLogged:!1}}),Ue.History.push("/home"))}},isMemberLogged:function(){return function(e){localStorage.getItem("memberToken")?I.Member.isLogged().then(function(t){e({type:w.IS_LOGGED,payload:t})}):e({type:w.IS_NOT_LOGGED,payload:{isLogged:!1}})}},sendNewPassword:function(e){return function(t){I.Member.sendNewPassword(e).then(function(e){t({type:w.NEW_PASSWORD_SENT})}).catch(function(e){t({type:w.NEW_PASSWORD_FAILED})})}},resetField:function(){return function(e){e({type:w.RESET_FIELD})}}},U={LOAD_SIGNUP:"LOAD_SIGNUP",LOAD_INVITATION:"LOAD_INVITATION",SIGN_UP:"SIGN_UP",SIGN_UP_ERROR:"SIGN_UP_ERROR",CREATE_USER:"CREATE_USER",LOADING:"LOADING",VALIDATE_ACCOUNT_TOKEN:"VALIDATE_ACCOUNT_TOKEN",VALIDATE_ACCOUNT_TOKEN_ERROR:"VALIDATE_ACCOUNT_TOKEN_ERROR",INVITATION_ACCEPTED:"INVITATION_ACCEPTED",INVITATION_ACCEPTED_ERROR:"INVITATION_ACCEPTED"},G=function(e){return{type:U.SIGN_UP,payload:e}},H=function(e){return{type:U.SIGN_UP_ERROR,payload:e||["Failed to create the account.",""]}};var W={labels:U,signup:function(e,t){return function(a){a({type:U.LOAD_INVITATION});var n=function(e){for(var t=!1,a=Object.values(e),n=0;n<a.length;n++){var r=a[n];""===r&&(t=!0)}return t?{isFieldsOk:!1,payload:["Some required fields are empty.","all"]}:e.memberPassword.length<6?{isFieldsOk:!1,payload:["Password should be at least 6 characters.","memberPassword"]}:e.memberPassword!==e.memberCheckPassword?{isFieldsOk:!1,payload:["Password confirmation failed.","memberCheckPassword"]}:{isFieldsOk:!0}}(e);if(n.isFieldsOk){var r=Object.assign({memberStatus:0},e);t?(r.memberStatus=1,console.log(r),I.Member.updateMemberInvitation(r).then(function(e){a({type:U.INVITATION_ACCEPTED,payload:{member:e}})}).catch(function(e){a(H(e.response.data))})):I.Member.signUp(r).then(function(e){a(G(e)),Ue.History.push("/home")}).catch(function(e){a(H(e.response.data))})}else console.log(n.payload),a(H(n.payload))}},validateAccountWithToken:function(e){return function(t){I.Member.validateAccount(e).then(function(e){t({type:U.VALIDATE_ACCOUNT_TOKEN}),Ue.History.push("/account-confirmation")}).catch(function(e){Ue.History.push("/login"),t({type:U.VALIDATE_ACCOUNT_TOKEN_ERROR})})}}},V={LOG_OFF:"LOG_OFF",GET_ALL_NOTIFICATIONS:"GET_ALL_NOTIFICATIONS",GET_ALL_NOTIFICATIONS_ERROR:"GET_ALL_NOTIFICATIONS_ERROR",UPDATE_NOTIFICATION:"UPDATE_NOTIFICATION",UPDATE_NOTIFICATIONS__DB_ERROR:"UPDATE_NOTIFICATIONS_DB_ERROR",UPDATE_NOTIFICATIONS_DB:"UPDATE_NOTIFICATIONS_DB"};var J={labels:V,logOff:function(){return localStorage.removeItem("memberToken"),Ue.History.push("/"),function(e){e({type:V.LOG_OFF})}},getAllNonArchivedNotifications:function(){return function(e){I.Action.getNonArchived().then(function(t){e({type:V.GET_ALL_NOTIFICATIONS,payload:t})}).catch(function(t){e({type:V.GET_ALL_NOTIFICATIONS_ERROR})})}},handleCheckboxNotification:function(e,t,a,n,r){return function(i){var o;e[a]=t,o=n?{notifications:e,notificationsUnread:r-=1}:{notifications:e,notificationsUnread:r+=1},i({type:V.UPDATE_NOTIFICATION,payload:o})}},updateNotifications:function(e){return function(t){I.Action.updateMultiple(e).then(function(e){t({type:V.UPDATE_NOTIFICATIONS_DB,payload:e})}).catch(function(e){t({type:V.UPDATE_NOTIFICATIONS__DB_ERROR})})}}},z=a(329),K=a.n(z),q={CHANGE_NOTIFICATION_READ_STATE:"CHANGE_NOTIFICATION_READ_STATE",FILTER_ONLY_UNREAD:"FILTER_ONLY_UNREAD",DISABLED_FILTER:"DISABLED_FILTER"};var Y={labels:q,showOnlyUnreadAction:function(e,t,a){if(a){var n=[];n=K()(e);var r=[],i=!0,o=!1,s=void 0;try{for(var c,l=n[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var d=c.value;0===d.actionStatus&&r.push(d)}}catch(m){o=!0,s=m}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return function(t){t({type:q.FILTER_ONLY_UNREAD,payload:{notifications:r,notificationsUnarchived:e}})}}return function(e){e({type:q.DISABLED_FILTER,payload:{notifications:t,notificationsUnarchived:[]}})}}},X={LOAD_PROFILE_PICTURE:"LOAD_PROFILE_PICTURE",UPDATE_MEMBER:"UPDATE_MEMBER",UPDATE_MEMBER_ERROR:"UPDATE_MEMBER_ERROR",UPDATE_PASSWORD:"UPDATE_PASSWORD",UPDATE_PASSWORD_ERROR:"UPDATE_PASSWORD_ERROR"};var Z={labels:X,updateMember:function(e){return function(t){I.Member.update(e).then(function(e){e?(localStorage.setItem("memberToken",e.memberToken),t({type:X.UPDATE_MEMBER,payload:{member:e}})):t({type:X.UPDATE_MEMBER_ERROR})}).catch(function(e){t({type:X.UPDATE_MEMBER_ERROR})})}},updateMemberPassword:function(e){return function(t){I.Member.updatePassword(e).then(function(e){e?(localStorage.setItem("memberToken",e.memberToken),t({type:X.UPDATE_PASSWORD,payload:{updatePasswordMsg:"Password updated."}})):t({type:X.UPDATE_PASSWORD_ERROR,payload:{updatePasswordMsg:"Wrong password. Please, provide the right password for your account."}})}).catch(function(e){t({type:X.UPDATE_PASSWORD_ERROR,payload:{updatePasswordMsg:"Wrong password. Please, provide the right password for your account."}})})}},updateMemberPicture:function(e,t){return function(a){a({type:X.LOAD_PROFILE_PICTURE}),I.Member.updateProfilePicture(e,t).then(function(e){e?(localStorage.setItem("memberToken",e.memberToken),a({type:X.UPDATE_MEMBER,payload:{member:e}})):a({type:X.UPDATE_MEMBER_ERROR})}).catch(function(e){a({type:X.UPDATE_MEMBER_ERROR})})}}},$={LOAD_PROJECT:"LOAD_PROJECT",GET_ALL_LISTS:"GET_ALL_LISTS",CREATE_LIST:"CREATE_LIST",CREATE_LIST_ERROR:"CREATE_LIST_ERROR",UPDATE_LIST:"UPDATE_LIST",UPDATE_LIST_ERROR:"UPDATE_LIST_ERROR",GET_PROJECT_INFO:"GET_PROJECT_INFO",GET_PROJECT_INFO_ERROR:"GET_PROJECT_INFO_ERROR",GET_ALL_MEMBERS:"GET_ALL_MEMBERS",GET_ALL_MEMBERS_ERROR:"GET_ALL_MEMBERS_ERROR",INVITATION_SUCCESS:"INVITATION_SUCCESS",INVITATION_ERROR:"INVITATION_ERROR",GET_MEMBER_STATUS:"GET_MEMBER_STATUS",GET_MEMBER_STATUS_ERROR:"GET_MEMBER_STATUS_ERROR",REMOVE_MEMBER_FROM_PROJECT:"REMOVE_MEMBER_FROM_PROJECT",REMOVE_MEMBER_FROM_PROJECT_ERROR:"REMOVE_MEMBER_FROM_PROJECT_ERROR",SET_MEMBER_ADMIN:"SET_MEMBER_ADMIN",GET_ACTIVITY:"GET_ACTIVITY",GET_ACTIVITY_ERROR:"GET_ACTIVITY_ERROR",MEMBER_HAS_PROJECT:"MEMBER_HAS_PROJECT",MEMBER_HAS_PROJECT_ERROR:"MEMBER_HAS_PROJECT_ERROR",LOAD:"LOAD",GET_ALL_PERMISSIONS:"GET_ALL_PERMISSIONS",GET_ALL_PERMISSIONS_ERROR:"GET_ALL_PERMISSIONS_ERROR",UPDATE_PERMISSION_MEMBER:"UPDATE_PERMISSION_MEMBER",UPDATE_PERMISSION_MEMBER_ERROR:"UPDATE_PERMISSION_MEMBER_ERROR",UPDATE_PROJECT_INFO:"UPDATE_PROJECT_INFO"};var Q={labels:$,findAllLists:function(e){return function(t){t({type:$.LOAD_PROJECT});var a={projectId:e};I.Project.getAllWithCards(a).then(function(e){t({type:$.GET_ALL_LISTS,payload:e})})}},createList:function(e,t,a,n){var r={listTitle:e,listStatus:0,projectId:t,listFather:a};return function(a){I.List.create(r).then(function(r){a({type:$.CREATE_LIST,payload:r}),I.Action.createActivityForAllMembers({actionType:0,actionTitle:"List was created",actionDescription:n.memberPseudo+" has create the list '"+e+"'.",memberId:n.memberId,projectId:t,actionDateCreation:L()(),mhaStatus:0})}).catch(function(e){console.log(e),a({type:$.CREATE_LIST_ERROR,payload:e})})}},updateLists:function(e,t){var a={listFather:t};return function(t){I.List.update(e,a).then(function(e){t({type:$.UPDATE_LIST,payload:e})}).catch(function(e){t({type:$.UPDATE_LIST_ERROR,payload:e})})}},getProjectInfo:function(e){return function(t){I.Project.getOne(e).then(function(e){e.length>0?t({type:$.GET_PROJECT_INFO,payload:e}):(t({type:$.GET_PROJECT_INFO_ERROR}),Ue.History.push("/home"))}).catch(function(e){t({type:$.GET_PROJECT_INFO_ERROR,payload:e})})}},updateProjectTitle:function(e,t){var a={projectTitle:e};return function(e){I.Project.update(t,a).then(function(a){I.Project.getOne(t).then(function(t){e({type:$.GET_PROJECT_INFO,payload:t})}).catch(function(t){e({type:$.GET_PROJECT_INFO_ERROR,payload:t})})}).catch(function(t){e({type:$.GET_PROJECT_INFO_ERROR,payload:t})})}},findAllMembers:function(e){return function(t){I.Project.getAllMembers({projectId:e}).then(function(e){t({type:$.GET_ALL_MEMBERS,payload:e})}).catch(function(e){t({type:$.GET_ALL_MEMBERS_ERROR,payload:e})})}},updateProjectVisibility:function(e,t){var a={projectVisibility:e};return function(e){I.Project.update(t,a).then(function(a){I.Project.getOne(t).then(function(t){e({type:$.GET_PROJECT_INFO,payload:t})}).catch(function(t){e({type:$.GET_PROJECT_INFO_ERROR,payload:t})})}).catch(function(t){e({type:$.GET_PROJECT_INFO_ERROR,payload:t})})}},sendInvitationProject:function(e){return function(t){t({type:$.LOAD});var a={memberLastname:"unknow",memberFirstname:"unknow",memberPseudo:"unknow",memberStatus:2,memberEmail:e.memberEmail};I.Member.createIfNotExist(a).then(function(a){e.memberId=a.memberId,e.memberhasprojectStatus=0,e.projectIsFavorite=!1,I.Project.createAndSendInvitation(e).then(function(a){I.Project.getAllMembers({projectId:e.projectId}).then(function(e){t({type:$.GET_ALL_MEMBERS,payload:e})}).catch(function(e){t({type:$.GET_ALL_MEMBERS_ERROR,payload:e})})}).catch(function(e){t({type:$.INVITATION_ERROR})})}).catch(function(e){t({type:$.INVITATION_ERROR})})}},getMemberStatus:function(e,t){return function(a){I.Project.getMemberStatus({projectId:e,memberId:t}).then(function(e){a({type:$.GET_MEMBER_STATUS,payload:e.mhppState})}).catch(function(e){a({type:$.GET_MEMBER_STATUS_ERROR,payload:!1})})}},removeMemberFromProject:function(e){return function(t){t({type:$.LOAD}),I.Member.deleteInvitation(e).then(function(a){I.Permission.deleteForMemberOnProject(e).then(function(a){t({type:$.REMOVE_MEMBER_FROM_PROJECT}),t({type:$.LOAD_PROJECT});var n={projectId:e.projectId};I.Project.getAllWithCards(n).then(function(e){t({type:$.GET_ALL_LISTS,payload:e})}),I.Project.getAllMembers({projectId:e.projectId}).then(function(e){t({type:$.GET_ALL_MEMBERS,payload:e})}).catch(function(e){t({type:$.GET_ALL_MEMBERS_ERROR,payload:e})})}).catch(function(e){t({type:$.REMOVE_MEMBER_FROM_PROJECT_ERROR})})}).catch(function(e){t({type:$.REMOVE_MEMBER_FROM_PROJECT_ERROR})})}},getActivity:function(e){return function(t){I.Project.getAllActions({projectId:e}).then(function(e){t({type:$.GET_ACTIVITY,payload:e})}).catch(function(e){t({type:$.GET_ACTIVITY_ERROR})})}},getLabels:function(){return function(e){I.Project.getLabels().then(function(t){e({type:$.GET_ALL_LABELS,payload:t})}).catch(function(t){e(t)})}},updatePermissionMember:function(e,t,a,n,r){var i={projectId:e,memberId:t,permissionId:a},o={mhppState:n};return function(e){I.Permission.updateOnProject(i,o).then(function(t){e(t?{type:$.UPDATE_PERMISSION_MEMBER,payload:r}:{type:$.UPDATE_PERMISSION_MEMBER_ERROR})}).catch(function(t){e({type:$.UPDATE_PERMISSION_MEMBER_ERROR})})}},getMemberHasProject:function(e,t){var a={memberId:e,projectId:t,memberhasprojectStatus:1};return function(e){I.Project.getMemberHasProject(a).then(function(t){e({type:$.MEMBER_HAS_PROJECT,payload:t})}).catch(function(t){e({type:$.MEMBER_HAS_PROJECT_ERROR,payload:t})})}},getAllPermissions:function(e){return function(t){I.Permission.getAllOnProject({projectId:e}).then(function(e){t({type:$.GET_ALL_PERMISSIONS,payload:e})}).catch(function(e){t({type:$.GET_ALL_PERMISSIONS_ERROR})})}},loadLists:function(e){return function(t){t({type:$.GET_ALL_LISTS,payload:e})}},loadProjectInfo:function(e){return function(t){t({type:$.UPDATE_PROJECT_INFO,payload:e})}}},ee={GET_ALL_CARDS:"GET_ALL_CARDS",GET_ALL_CARDS_ERROR:"GET_ALL_CARDS_ERROR",CREATE_CARD:"CREATE_CARD",UPDATE_LIST_TITLE:"UPDATE_LIST_TITLE",UPDATE_LIST_TITLE_ERROR:"UPDATE_LIST_TITLE_ERROR",DELETE_LIST:"DELETE_LIST",DELETE_LIST_ERROR:"DELETE_LIST_ERROR",UPDATE_CARD:"UPDATE_CARD",UPDATE_CARD_ERROR:"UPDATE_CARD_ERROR",UPDATE_LIST_STATUS:"UPDATE_LIST_STATUS",UPDATE_LIST_STATUS_ERROR:"UPDATE_LIST_STATUS_ERROR",UPDATE_POSITION_LISTS:"UPDATE_POSITION_LISTS",LOAD_PROJECT:"LOAD_PROJECT",RESTORE_CARD:"RESTORE_CARD",RESTORE_CARD_ERROR:"RESTORE_CARD_ERROR",UPDATE_DATE_CARD:"UPDATE_DATE_CARD",UPDATE_DATE_CARD_ERROR:"UPDATE_DATE_CARD_ERROR",UPDATE_DESCRIPTION_CARD:"UPDATE_DESCRIPTION_CARD",UPDATE_DESCRIPTION_CARD_ERROR:"UPDATE_DESCRIPTION_CARD_ERROR",UPDATE_TITLE_CARD:"UPDATE_TITLE_CARD",UPDATE_TITLE_CARD_ERROR:"UPDATE_TITLE_CARD_ERROR",CREATE_CARD_ERROR:"CREATE_CARD_ERROR"};var te={labels:ee,createCard:function(e,t,a,n,r){console.log(r);var i={cardTitle:e,cardStatus:0,listId:t,cardDescription:"",cardFather:r};return function(t){t({type:ee.LOAD_PROJECT}),I.Card.create(i).then(function(r){var i=Object(p.a)({},r,{CardListFks:[]});I.Action.createActivityForAllMembers({actionType:0,actionTitle:"Card was created",actionDescription:n.memberPseudo+" has create the card '"+e+"'.",memberId:n.memberId,projectId:a,actionDateCreation:L()(),mhaStatus:0}),t({type:ee.CREATE_CARD,payload:i})}).catch(function(e){console.log(e),t({type:ee.CREATE_CARD_ERROR})})}},findAllCards:function(){return function(e){I.Card.getAll().then(function(t){e({type:ee.GET_ALL_CARDS,payload:t})}).catch(function(t){e({type:ee.GET_ALL_CARDS_ERROR})})}},updateCard:function(e,t,a){var n={listId:t};return function(t){I.Card.update(e,n).then(function(e){t({type:ee.UPDATE_CARD,payload:a})}).catch(function(e){t({type:ee.UPDATE_CARD_ERROR})})}},updateListTitle:function(e,t){var a={listTitle:e,listId:t},n={listTitle:e,listId:t,newListTitle:e};return function(e){I.List.update(t,a).then(function(t){e({type:ee.UPDATE_LIST_TITLE,payload:n})}).catch(function(t){e({type:ee.UPDATE_LIST_TITLE_ERROR})})}},deleteList:function(e,t){return function(t){I.List.delete(e).then(function(a){t({type:ee.DELETE_LIST,payload:e})}).catch(function(e){t({type:ee.DELETE_LIST_ERROR})})}},updateListStatus:function(e,t){var a={listId:e,listStatus:t};return function(t){I.List.update(e,a).then(function(e){t({type:ee.UPDATE_LIST_STATUS,payload:a})}).catch(function(e){t({type:ee.UPDATE_LIST_STATUS_ERROR})})}},updatePositionLists:function(e,t){return function(a){I.List.updateListOrder(t),a({type:ee.UPDATE_POSITION_LISTS,payload:e})}},restoreCard:function(e,t){return function(a){I.Card.update(e.cardId,t).then(function(t){a({type:ee.RESTORE_CARD,payload:e})}).catch(function(e){a({type:ee.RESTORE_CARD_ERROR})})}},updateDueDateCard:function(e,t){return function(a){I.Card.update(e.cardId,t).then(function(n){a({type:ee.UPDATE_DATE_CARD,payload:{card:e,dueDate:t.cardDateTarget}})}).catch(function(e){a({type:ee.UPDATE_DATE_CARD_ERROR})})}},updateDescription:function(e,t){return function(a){I.Card.update(e.cardId,t).then(function(n){a({type:ee.UPDATE_DESCRIPTION_CARD,payload:{card:e,description:t.cardDescription}})}).catch(function(e){a({type:ee.UPDATE_DESCRIPTION_CARD_ERROR})})}},updateCardTitle:function(e,t){return function(a){I.Card.update(e.cardId,t).then(function(n){a({type:ee.UPDATE_TITLE_CARD,payload:{card:e,title:t.cardTitle}})}).catch(function(e){a({type:ee.UPDATE_TITLE_CARD_ERROR})})}}},ae={GET_CARD:"GET_CARD",GET_CARD_ERROR:"GET_CARD_ERROR",UPDATE_CARD:"UPDATE_CARD",UPDATE_POSITION_CARD:"UPDATE_POSITION_CARD",ERROR_UPDATE_CARD:"ERROR_UPDATE_CARD",DELETE_CARD:"DELETE_CARD",DELETE_CARD_ERROR:"DELETE_CARD_ERROR",ADD_MEMBER_ON_CARD:"ADD_MEMBER_ON_CARD",ADD_MEMBER_ON_CARD_ERROR:"ADD_MEMBER_ON_CARD_ERROR",DELETE_MEMBER:"DELETE_MEMBER",DELETE_MEMBER_ERROR:"DELETE_MEMBER_ERROR",UPDATE_TASK:"UPDATE_TASK",UPDATE_TASK_ERROR:"UPDATE_TASK_ERROR",DELETE_TASK:"DELETE_TASK",DELETE_TASK_ERROR:"DELETE_TASK_ERROR",CREATE_TASK:"CREATE_TASK",CREATE_TASK_ERROR:"CREATE_TASK_ERROR",LOAD_CARD:"LOAD_CARD",GET_ALL_LABEL:"GET_ALL_LABEL",GET_ALL_LABEL_ERROR:"GET_ALL_LABEL_ERROR",CREATE_LINK_LABEL:"CREATE_LINK_LABEL",CREATE_LINK_LABEL_ERROR:"CREATE_LINK_LABEL_ERROR",DELETE_LINK_LABEL:"CREATE_LINK_LABEL",DELETE_LINK_LABEL_ERROR:"CREATE_LINK_LABEL_ERROR",LOAD_PROJECT:"LOAD_PROJECT",ARCHIVE_CARD:"ARCHIVE_CARD",FIND_ALL_MEMBERS_ON_CARD:"FIND_ALL_MEMBERS_ON_CARD",FIND_ALL_MEMBERS_ON_CARD_ERROR:"FIND_ALL_MEMBERS_ON_CARD_ERROR",FIND_ALL_COMMENTS_ON_CARD:"FIND_ALL_COMMENTS_ON_CARD",ADD_COMMENTS_ON_CARD:"ADD_COMMENTS_ON_CARD"};var ne={labels:ae,getCard:function(e){return function(t){I.Card.get({cardId:e}).then(function(e){t({type:ae.GET_CARD,payload:e})}).catch(function(e){t({type:ae.GET_CARD_ERROR})})}},updatecard:function(e,t,a,n){return function(r){return I.Card.update(e.cardId,t).then(function(e){r({type:ae.ARCHIVE_CARD,payload:{listIndex:a,cardIndex:n}})}).catch(function(e){r({type:ae.ERROR_UPDATE_CARD,errorMsg:"impossible to execute this action"})})}},updateTask:function(e,t){return function(a){return I.Task.update({taskId:e},t).then(function(e){a(e?{type:ae.UPDATE_TASK}:{type:ae.UPDATE_TASK_ERROR})}).catch(function(e){a({type:ae.UPDATE_TASK_ERROR})})}},deleteCard:function(e,t,a){return function(n){n({type:ae.LOAD_PROJECT}),I.Card.delete({cardId:e}).then(function(e){n(e?{type:ae.DELETE_CARD,payload:{listIndex:t,cardIndex:a}}:{type:ae.DELETE_CARD_ERROR})}).catch(function(e){n({type:ae.DELETE_CARD_ERROR})})}},deleteTask:function(e,t){return function(a){return I.Task.delete({taskId:e}).then(function(e){a(e?{type:ae.DELETE_TASK,payload:t}:{type:ae.DELETE_TASK_ERROR})}).catch(function(e){a({type:ae.DELETE_TASK_ERROR})})}},createTask:function(e,t){return function(a){a({type:ae.LOAD_CARD}),I.Task.create(e).then(function(e){t.TaskCardFks.push(e),a({type:ae.CREATE_TASK,payload:t})}).catch(function(e){a({type:ae.CREATE_TASK_ERROR})})}},getLabels:function(e){return function(t){I.Label.getAll({projectId:e}).then(function(e){t({type:ae.GET_ALL_LABEL,payload:e})}).catch(function(e){t({type:ae.GET_ALL_LABEL_ERROR})})}},addMember:function(e,t,a,n,r,i,o){var s={cardId:t,memberId:e};return function(e){e({type:ae.LOAD_CARD}),I.Card.addMember(s).then(function(t){e({type:ae.ADD_MEMBER_ON_CARD,payload:{membersOnCard:a,membersOffCard:n,newMember:o,cardIndex:i,listIndex:r}})}).catch(function(t){e({type:ae.ADD_MEMBER_ON_CARD_ERROR})})}},removeMember:function(e,t,a,n,r,i,o){var s={cardId:t,memberId:e};return function(e){e({type:ae.LOAD_CARD}),I.Card.removeMember(s).then(function(t){e(t?{type:ae.DELETE_MEMBER,payload:{membersOnCard:a,membersOffCard:n,listIndex:r,cardIndex:i,elementIndex:o}}:{type:ae.DELETE_MEMBER_ERROR})}).catch(function(t){e({type:ae.DELETE_MEMBER_ERROR})})}},createLinkLabel:function(e){return function(t){I.Card.createLinkLabel(e).then(function(e){t({type:ae.CREATE_LINK_LABEL})}).catch(function(e){t({type:ae.CREATE_LINK_LABEL_ERROR})})}},deleteLinkLabel:function(e){return function(t){return I.Card.deleteLinkLabel(e).then(function(e){t(e?{type:ae.DELETE_LINK_LABEL}:{type:ae.DELETE_LINK_LABEL_ERROR})}).catch(function(e){t({type:ae.DELETE_LINK_LABEL_ERROR})})}},getMembersOnCard:function(e,t){return function(a){a({type:ae.LOAD_CARD}),I.Card.findAllMembers({cardId:e,projectId:t,memberhasprojectStatus:1}).then(function(e){a({type:ae.FIND_ALL_MEMBERS_ON_CARD,payload:{membersOnCard:e.membersOnCard,membersOffCard:e.membersOffCard}})}).catch(function(e){a({type:ae.FIND_ALL_MEMBERS_ON_CARD_ERROR})})}},findAllComments:function(e){return function(t){return I.Comments.getAllComments(e).then(function(e){return t({type:ae.FIND_ALL_COMMENTS_ON_CARD,payload:e})})}},addComments:function(e,t,a){return function(e){return I.Comments.addComments().then(function(t){e({type:ae.ADD_COMMENTS_ON_CARD,payload:t})})}},updatePositionCard:function(e){return function(t){I.Card.updateCardOrder(e).then(function(e){t({type:ae.UPDATE_POSITION_CARD})})}}},re={SEARCH_PROJECTS:"SEARCH_PROJECTS",SEARCH_PROJECTS_ERROR:"SEARCH_PROJECTS_ERROR",SEARCH_CARDS:"SEARCH_CARDS",SEARCH_CARDS_ERROR:"SEARCH_CARDS_ERROR",SEARCH_LISTS:"SEARCH_LISTS",SEARCH_LISTS_ERROR:"SEARCH_LISTS_ERROR",SEARCH_RESET:"SEARCH_RESET"};var ie={labels:re,searchProjects:function(e,t){return function(a){""!==e?I.Project.searchbarProjects({str:e,memberId:t}).then(function(e){a({type:re.SEARCH_PROJECTS,payload:e})}).catch(function(e){a({type:re.SEARCH_PROJECTS_ERROR})}):a({type:re.SEARCH_PROJECTS,payload:[]})}},searchLists:function(e,t){return function(a){""!==e?I.List.searchbarLists({str:e,memberId:t}).then(function(e){a({type:re.SEARCH_LISTS,payload:e})}).catch(function(e){a({type:re.SEARCH_LISTS_ERROR})}):a({type:re.SEARCH_LISTS,payload:[]})}},searchCards:function(e,t){return function(a){""!==e?I.Card.searchbarCards({str:e,memberId:t}).then(function(e){a({type:re.SEARCH_CARDS,payload:e})}).catch(function(e){a({type:re.SEARCH_CARDS_ERROR})}):a({type:re.SEARCH_CARDS,payload:[]})}},resetSearchArrays:function(){return function(e){e({type:re.SEARCH_RESET})}}},oe={MEMBER_EXIST:"MEMBER_EXIST",MEMBER_NOT_EXIST:"MEMBER_NOT_EXIST",DECRYPT_ERROR:"DECRYPT_ERROR",INVITATION_REPLY:"INVITATION_REPLY",INVITATION_REPLY_ERROR:"INVITATION_REPLY_ERROR"};var se={labels:oe,isMemberExist:function(e){return function(t){I.Member.decrpytInvitation(e).then(function(e){e.isExist?I.Member.getInvitation({projectId:e.projectId,memberId:e.memberId,memberhasprojectStatus:0}).then(function(a){a?t({type:oe.MEMBER_EXIST,payload:{member:a.Member,project:a.Project,isAccountValid:1===e.memberStatus}}):(Ue.History.push("/home"),t({type:oe.DECRYPT_ERROR}))}).catch(function(e){t({type:oe.DECRYPT_ERROR})}):t({type:oe.MEMBER_NOT_EXIST,payload:{informations:e,isAccountExist:!1,isAccountValid:!1}})}).catch(function(e){Ue.History.push("/home"),t({type:oe.DECRYPT_ERROR})})}},replyToInvitation:function(e,t,a,n){return function(r){e?I.Member.updateInvitation(t,a).then(function(e){e?(I.Permission.createMemberProjectPermission(n.memberId,a.projectId,3,!0).then(function(e){r({type:oe.INVITATION_REPLY})}),Ue.History.push("/home")):r({type:oe.INVITATION_REPLY_ERROR})}).catch(function(e){r({type:oe.INVITATION_REPLY_ERROR})}):I.Member.deleteInvitation(a).then(function(e){e?(r({type:oe.INVITATION_REPLY}),Ue.History.push("/home")):r({type:oe.INVITATION_REPLY_ERROR})}).catch(function(e){r({type:oe.INVITATION_REPLY_ERROR})})}}};var ce={LOAD_DASHBOARD:"LOAD_DASHBOARD",LOAD_ALL_PROJECTS_FOR_MEMBER:"LOAD_ALL_PROJECTS_FOR_MEMBER",LOAD_ALL_PROJECTS_FOR_MEMBER_ERROR:"LOAD_ALL_PROJECTS_FOR_MEMBER_ERROR",CREATE_PROJECT:"CREATE_PROJECT",CREATE_PROJECT_ERROR:"CREATE_PROJECT_ERROR",SET_PROJECT_FAVORITE:"SET_PROJECT_FAVORITE",SET_PROJECT_FAVORITE_ERROR:"SET_PROJECT_FAVORITE_ERROR"};var le={dashboardAction:k,signinAction:B,signupAction:W,navbarAction:J,notificationAction:Y,profileAction:Z,projectAction:Q,listAction:te,cardAction:ne,searchbarAction:ie,invitationAction:se,memberAction:{labels:{},searchMember:function(e){}},teamAction:{labels:{CREATE_TEAM:"CREATE_TEAM",CREATE_TEAM_ERROR:"CREATE_TEAM_ERROR"},createTeam:function(e){}},dashboardFixAction:{labels:ce,findAllProjectsMember:function(e){var t={memberId:e,memberhasprojectStatus:1};return function(e){e({type:ce.LOAD_DASHBOARD}),I.Project.getAllProjectsForMember(t).then(function(t){e({type:ce.LOAD_ALL_PROJECTS_FOR_MEMBER,payload:t})}).catch(function(t){e({type:ce.LOAD_ALL_PROJECTS_FOR_MEMBER_ERROR})})}},createProject:function(e,t,a,n){var r={projectTitle:t,projectVisibility:a,projectStatus:0};return function(a){a({type:ce.LOAD_DASHBOARD}),I.Project.createProjectFix(r).then(function(i){r={projectId:i.projectId,memberId:e,memberhasprojectStatus:1,projectIsFavorite:!1},I.Project.createProjectForMember(r).then(function(r){I.Permission.createMemberProjectPermission(e,i.projectId,3,!0).then(function(r){I.Action.createActivityForAllMembers({actionType:0,actionTitle:"Project was created",actionDescription:n.memberPseudo+" has create the project '"+t+"'.",memberId:e,projectId:i.projectId,actionDateCreation:L()(),mhaStatus:0}).then(function(e){a({type:ce.CREATE_PROJECT,payload:{project:{Project:i},contributors:1}}),console.log(i.projectId),Ue.History.push("/project/"+i.projectId)}).catch(function(e){console.log(e),a({type:ce.CREATE_PROJECT_ERROR})})})}).catch(function(e){console.log(e),a({type:ce.CREATE_PROJECT_ERROR})})}).catch(function(e){console.log(e),a({type:ce.CREATE_PROJECT_ERROR})})}},setAsProjectFavorite:function(e,t,a,n){var r={memberId:e,projectId:t},i={projectIsFavorite:a};return function(e){I.Project.updateFix(r,i).then(function(t){e({type:ce.SET_PROJECT_FAVORITE,payload:{projectIsFavorite:a,index:n}})}).catch(function(t){e({type:ce.SET_PROJECT_FAVORITE_ERROR})})}}}},de=le.signinAction.labels,me=le.navbarAction.labels,ue=le.profileAction.labels,pe={isLoading:!0,isPasswordReset:!1,member:{memberId:-1,memberFirstname:"unknow",memberLastname:"unknow",memberPseudo:"unknow",memberEmail:"unknow@gmail.com"}};var he=le.signupAction.labels,Ee={isAccountValidNow:!1,msgError:["",""],isInvitation:!1,isLoading:!1};var be=J.labels,fe=Y.labels,ge={notifications:[],notificationsUnread:0};var Oe=Z.labels,Re={updatePasswordMsg:"",isPasswordUpdated:!1,isPasswordError:!1,isLoading:!1};var _e=a(339),je=a(330),Ce=a.n(je)()("https://prello-ig.herokuapp.com"),Te=Q.labels,ye=te.labels,Ae=ne.labels,Ie={lists:[],members:[],isLoading:!1,activities:[],permissions:[],maj:""};var ve=ne.labels,Le={card:{cardTitle:"",cardDescription:"",cardStatus:-1,cardDateTarget:null,cardDateEnd:null,cardFather:null,cardChild:null,listId:null,comments:[]},isLoading:!1,membersOnCard:[],membersOffCard:[]};var Se=ie.labels,De={projectsFound:[],listsFound:[],cardsFound:[]};var Pe=se.labels,ke=W.labels,Me={isLoading:!0};var Ne=le.dashboardFixAction.labels,we={isLoading:!1,projects:[]};var xe=Object(m.combineReducers)({dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.LOAD_DASHBOARD:return Object(p.a)({},e,{isLoading:!0,errorMsg:""});case M.SELECT_PROJECT:return Object(p.a)({},e,{project:t.project,errorMsg:""});case M.FIND_ONE_PROJECT:return Object(p.a)({},e,{loading:!0,errorMsg:""});case M.RECEIVE_PROJECT:return Object(p.a)({},e,{project:t.json,loading:!1,errorMsg:""});case M.SELECT_ALL_PROJECT_MEMBER:return Object(p.a)({},e,{projects:t.payload,errorMsg:"",isLoading:!1});case M.SELECT_ALL_TEAM_MEMBER:return Object(p.a)({},e,{teams:t.payload,errorMsg:""});case M.UPDATE_MEMBER_HAS_PROJECT:for(var a=Ue.Method.copy(e.projects),n=0;n<a.length;n++)t.payload.projectId===a[n].projectId&&(a[n].projectIsFavorite=t.payload.projectIsFavorite);return Object(p.a)({},e,{projects:a,errorMsg:""});case M.CREATE_NEW_PROJECT:return e;case M.DASHBOARD_ACTION_ERROR:return Object(p.a)({},e,{errorMsg:t.errorMsg});case M.DASHBOARD_HIDE_ERROR_MSG:return Object(p.a)({},e,{errorMsg:""});default:return e}},signin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.LOGIN:return Object(p.a)({},e,{member:t.payload.member,isLogged:!0,isLoading:!1});case de.ERROR:return Object(p.a)({},e,{msgError:t.payload,isLogged:!1});case de.IS_LOGGED:return Object(p.a)({},e,{member:t.payload.member,isLogged:t.payload.isLogged,isLoading:!1});case de.IS_NOT_LOGGED:return Object(p.a)({},e,{member:{},isLogged:t.payload.isLogged,isLoading:!1});case me.LOG_OFF:return Object(p.a)({},e,{isLogged:!1,member:{},isLoading:!1});case ue.UPDATE_MEMBER:return Object(p.a)({},e,{member:t.payload.member});case de.NEW_PASSWORD_SENT:return Object(p.a)({},e,{isPasswordReset:!0,resetPasswordMsg:"New password sent."});case de.NEW_PASSWORD_FAILED:return Object(p.a)({},e,{isPasswordReset:!0,resetPasswordMsg:"No email adress found."});case de.RESET_FIELD:return Object(p.a)({},e,{isPasswordReset:!1,resetPasswordMsg:""});default:return e}},signup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.LOAD_SIGNUP:case he.LOAD_INVITATION:return Object(p.a)({},e,{isLoading:!0});case he.SIGN_UP:return Object(p.a)({},e,{isLoading:!1,msgError:["",""]});case he.SIGN_UP_ERROR:return Object(p.a)({},e,{isLoading:!1,msgError:t.payload});case he.VALIDATE_ACCOUNT_TOKEN:return Object(p.a)({},e,{isAccountValidNow:!0});case he.VALIDATE_ACCOUNT_TOKEN_ERROR:return Object(p.a)({},e,{isAccountValidNow:!1});default:return e}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be.GET_ALL_NOTIFICATIONS:return Object(p.a)({},e,{notifications:t.payload.notifications,notificationsUnread:t.payload.notificationsUnread});case be.GET_ALL_NOTIFICATIONS_ERROR:return e;case be.UPDATE_NOTIFICATION:return Object(p.a)({},e,{notifications:t.payload.notifications,notificationsUnread:t.payload.notificationsUnread});case fe.FILTER_ONLY_UNREAD:case fe.DISABLED_FILTER:return Object(p.a)({},e,{notifications:t.payload.notifications,notificationsUnarchived:t.payload.notificationsUnarchived});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.LOAD_PROFILE_PICTURE:return Object(p.a)({},e,{isLoading:!0});case Oe.UPDATE_MEMBER:return Object(p.a)({},e,{updatePasswordMsg:t.payload.updatePasswordMsg,isPasswordUpdated:!0,isPasswordError:!1,isLoading:!1});case Oe.UPDATE_PASSWORD:return Object(p.a)({},e,{updatePasswordMsg:t.payload.updatePasswordMsg,isPasswordUpdated:!0,isPasswordError:!1});case Oe.UPDATE_PASSWORD_ERROR:return Object(p.a)({},e,{updatePasswordMsg:t.payload.updatePasswordMsg,isPasswordUpdated:!1,isPasswordError:!0});default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te.LOAD:case Te.LOAD_PROJECT:case Ae.LOAD_PROJECT:return Object(p.a)({},e,{isLoading:!0});case Te.GET_ALL_LISTS:return Object(p.a)({},e,{lists:t.payload,isLoading:!1});case Te.CREATE_LIST:var a=t.payload;a.CardListFks=[];var n=Object(_e.a)(e.lists).concat([a]);return Ce.emit("updateLists",{projectId:n[0].projectId,lists:n}),Object(p.a)({},e,{lists:n});case Te.CREATE_LIST_ERROR:return Object(p.a)({},e,{isLoading:!1});case ye.CREATE_CARD:var r=Array.from(e.lists),i=r.find(function(e){return e.listId===t.payload.listId}),o=r.findIndex(function(e){return e.listId===t.payload.listId}),s=i.CardListFks.filter(function(e){return 0===e.cardStatus}),c=i.CardListFks.filter(function(e){return 1===e.cardStatus}),l=t.payload;return l.ActionCardFks=[],l.AttachmentCardFks=[],l.HaslabelCardFks=[],l.MemberhascardCardFks=[],l.TaskCardFks=[],s.push(t.payload),i.CardListFks=s.concat(c),r.splice(o,1),r.splice(o,0,i),Ce.emit("updateLists",{projectId:r[0].projectId,lists:r}),Object(p.a)({},e,{lists:r,isLoading:!1});case Ae.ADD_MEMBER_ON_CARD:var d=t.payload.newMember,m=t.payload.listIndex,u=t.payload.cardIndex,h=Array.from(e.lists),E={Member:d};h[m].CardListFks[u].MemberhascardCardFks.push(E),Ce.emit("updateLists",{projectId:h[0].projectId,lists:h});var b=e.maj;return b=""===b?" ":"",Object(p.a)({},e,{lists:h,maj:b});case Ae.DELETE_MEMBER:var f=t.payload.listIndex,g=t.payload.cardIndex,O=t.payload.elementIndex,R=Array.from(e.lists);R[f].CardListFks[g].MemberhascardCardFks.splice(O,1),Ce.emit("updateLists",{projectId:R[0].projectId,lists:R});var _=e.maj;return _=""===_?" ":"",Object(p.a)({},e,{lists:R,maj:_});case Ae.CREATE_LINK_LABEL:var j=e.maj;return j=""===j?" ":"",Object(p.a)({},e,{maj:j});case Ae.DELETE_LINK_LABEL:var C=e.maj;return C=""===C?" ":"",Object(p.a)({},e,{maj:C});case ye.UPDATE_CARD:return Ce.emit("updateLists",{projectId:t.payload[0].projectId,lists:t.payload}),Object(p.a)({},e,{lists:t.payload});case ye.GET_ALL_CARDS:return Object(p.a)({},e,{cards:t.payload});case ye.UPDATE_LIST_TITLE:var T=e.lists.find(function(e){return e.listId===t.payload.listId}),y=e.lists.findIndex(function(e){return e.listId===t.payload.listId}),A=Object(p.a)({},T,{listTitle:t.payload.newListTitle}),I=Array.from(e.lists);return I.splice(y,1),I.splice(y,0,A),Ce.emit("updateLists",{projectId:I[0].projectId,lists:I}),Object(p.a)({},e,{lists:I});case ye.UPDATE_LIST_STATUS:var v=e.lists.find(function(e){return e.listId===t.payload.listId}),L=e.lists.findIndex(function(e){return e.listId===t.payload.listId}),S=Object(p.a)({},v,{listStatus:t.payload.listStatus}),D=Array.from(e.lists);return D.splice(L,1),D.splice(L,0,S),Ce.emit("updateLists",{projectId:D[0].projectId,lists:D}),Object(p.a)({},e,{lists:D});case ye.DELETE_LIST:var P=e.lists.findIndex(function(e){return e.listId===t.payload}),k=e.lists.find(function(e){return e.listId===t.payload}).projectId,M=Array.from(e.lists);return M.splice(P,1),Ce.emit("updateLists",{projectId:k,lists:M}),Object(p.a)({},e,{lists:M});case Te.GET_PROJECT_INFO:return Ce.emit("updateProject",{projectId:t.payload[0].projectId,info:t.payload[0]}),Object(p.a)({},e,{projectInfo:t.payload[0]});case Te.UPDATE_PROJECT_INFO:return Object(p.a)({},e,{projectInfo:t.payload});case Te.GET_ALL_MEMBERS:return Object(p.a)({},e,{members:t.payload,isLoading:!1});case Te.SEND_INVITATION:return Object(p.a)({},e);case Te.GET_MEMBER_STATUS:return Object(p.a)({},e,{isAdmin:t.payload});case Te.REMOVE_MEMBER_FROM_PROJECT:return Object(p.a)({},e,{maj:""});case Te.SET_MEMBER_ADMIN:return Object(p.a)({},e);case Te.GET_ACTIVITY:return Object(p.a)({},e,{activities:t.payload});case Te.GET_ACTIVITY_ERROR:case Te.GET_ALL_LABELS:return Object(p.a)({},e);case Te.INVITATION_SUCCESS:case Te.INVITATION_ERROR||Te.GET_ALL_PERMISSIONS_ERROR||Te.UPDATE_PERMISSION_MEMBER_ERROR:return Object(p.a)({},e,{isLoading:!1});case Te.GET_ALL_PERMISSIONS:return Object(p.a)({},e,{permissions:t.payload,isLoading:!1});case Te.REMOVE_MEMBER_FROM_PROJECT_ERROR:return Object(p.a)({},e,{isLoading:!1});case Te.MEMBER_HAS_PROJECT:return Object(p.a)({},e,{loggedHasProject:t.payload});case Te.UPDATE_PERMISSION_MEMBER:return Object(p.a)({},e,{members:t.payload});case ye.UPDATE_POSITION_LISTS:return Ce.emit("updateLists",{projectId:t.payload[0].projectId,lists:t.payload}),Object(p.a)({},e,{lists:t.payload});case Ae.DELETE_CARD:var N=Array.from(e.lists);return N[t.payload.listIndex].CardListFks.splice(t.payload.cardIndex,1),Ce.emit("updateLists",{projectId:N[0].projectId,lists:N}),Object(p.a)({},e,{lists:N,isLoading:!1});case Ae.ARCHIVE_CARD:var w=Array.from(e.lists);w[t.payload.listIndex].CardListFks[t.payload.cardIndex].cardStatus=1;var x=w[t.payload.listIndex].CardListFks.filter(function(e){return 0===e.cardStatus}),F=w[t.payload.listIndex].CardListFks.filter(function(e){return 1===e.cardStatus});return w[t.payload.listIndex].CardListFks=x.concat(F),Ce.emit("updateLists",{projectId:w[0].projectId,lists:w}),Object(p.a)({},e,{lists:w});case ye.RESTORE_CARD:var B=Array.from(e.lists),U=B.findIndex(function(e){return e.listId===t.payload.listId}),G=B[U].CardListFks.findIndex(function(e){return e.cardId===t.payload.cardId});B[U].CardListFks[G].cardStatus=0;var H=B[U].CardListFks.filter(function(e){return 0===e.cardStatus}),W=B[U].CardListFks.filter(function(e){return 1===e.cardStatus});return B[U].CardListFks=H.concat(W),Ce.emit("updateLists",{projectId:B[0].projectId,lists:B}),Object(p.a)({},e,{lists:B});case ye.UPDATE_DATE_CARD:var V=Array.from(e.lists),J=V.findIndex(function(e){return e.listId===t.payload.card.listId}),z=V[J].CardListFks.findIndex(function(e){return e.cardId===t.payload.card.cardId});return V[J].CardListFks[z].cardDateTarget=t.payload.dueDate,Ce.emit("updateLists",{projectId:V[0].projectId,lists:V}),Object(p.a)({},e,{lists:V});case ye.UPDATE_DESCRIPTION_CARD:var K=Array.from(e.lists),q=K.findIndex(function(e){return e.listId===t.payload.card.listId}),Y=K[q].CardListFks.findIndex(function(e){return e.cardId===t.payload.card.cardId});return K[q].CardListFks[Y].cardDescription=t.payload.description,Ce.emit("updateLists",{projectId:K[0].projectId,lists:K}),Object(p.a)({},e,{lists:K});case ye.UPDATE_TITLE_CARD:var X=Array.from(e.lists),Z=X.findIndex(function(e){return e.listId===t.payload.card.listId}),$=X[Z].CardListFks.findIndex(function(e){return e.cardId===t.payload.card.cardId});return X[Z].CardListFks[$].cardTitle=t.payload.title,Ce.emit("updateLists",{projectId:X[0].projectId,lists:X}),Object(p.a)({},e,{lists:X});default:return e}},card:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve.LOAD_CARD:return Object(p.a)({},e,{isLoading:!0});case ve.UPDATE_CARD:return Object(p.a)({},e,{card:t.payload});case ve.CREATE_TASK:return Object(p.a)({},e,{card:t.payload,isLoading:!1});case ve.DELETE_TASK:case ve.GET_CARD:return Object(p.a)({},e,{card:t.payload});case ve.GET_ALL_LABEL:return Object(p.a)({},e,{labels:t.payload});case ve.UPDATE_TASK:return Object(p.a)({},e,{card:t.payload});case ve.DELETE_CARD:return Object(p.a)({},e);case ve.ADD_MEMBER_ON_CARD:case ve.DELETE_MEMBER:return Object(p.a)({},e,{membersOnCard:t.payload.membersOnCard,membersOffCard:t.payload.membersOffCard,isLoading:!1});case ve.DELETE_MEMBER_ERROR:case ve.ADD_MEMBER_ON_CARD_ERROR:case ve.FIND_ALL_MEMBERS_ON_CARD_ERROR:return Object(p.a)({},e,{isLoading:!1});case ve.FIND_ALL_MEMBERS_ON_CARD:return Object(p.a)({},e,{membersOnCard:t.payload.membersOnCard,membersOffCard:t.payload.membersOffCard,isLoading:!1});case ve.FIND_ALL_COMMENTS_ON_CARD:var a=e.card;return a.comments=t.payload,Object(p.a)({},e,{card:a});case ve.ADD_COMMENTS_ON_CARD:var n=e.card;return n.comments.push(t.payload),Object(p.a)({},e,{card:n});default:return e}},searchbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.SEARCH_PROJECTS:return Object(p.a)({},e,{projectsFound:t.payload});case Se.SEARCH_PROJECTS_ERROR:return Object(p.a)({},e,{projectsFound:[]});case Se.SEARCH_LISTS:return Object(p.a)({},e,{listsFound:t.payload});case Se.SEARCH_LISTS_ERROR:return Object(p.a)({},e,{listsFound:[]});case Se.SEARCH_CARDS:return Object(p.a)({},e,{cardsFound:t.payload});case Se.SEARCH_CARDS_ERROR:return Object(p.a)({},e,{cardsFound:[]});case Se.SEARCH_RESET:return Object(p.a)({},e,{projectsFound:[],listsFound:[],cardsFound:[]});default:return e}},invitation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.LOAD_INVITATION:return Object(p.a)({},e,{isLoading:!0});case ke.SIGN_UP_ERROR:return Object(p.a)({},e,{isLoading:!1});case Pe.MEMBER_EXIST:return Object(p.a)({},e,{project:t.payload.project,member:t.payload.member,isAccountExist:!0,isAccountValid:t.payload.isAccountValid,isLoading:!1});case Pe.MEMBER_NOT_EXIST:return Object(p.a)({},e,{informations:t.payload.informations,isAccountExist:!1,isLoading:!1});case Pe.DECRYPT_ERROR:case Pe.INVITATION_REPLY:case Pe.INVITATION_REPLY_ERROR:return Object(p.a)({},e,{isLoading:!1});case ke.INVITATION_ACCEPTED:return Object(p.a)({},e,{isAccountValidNow:!0,isLoading:!1,member:t.payload.member});default:return e}},dashboardFix:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne.LOAD_DASHBOARD:return Object(p.a)({},e,{isLoading:!0});case Ne.CREATE_PROJECT:var a=Array.from(e.projects);return a.push(t.payload),Object(p.a)({},e,{isLoading:!1,projects:a});case Ne.CREATE_PROJECT_ERROR:return Object(p.a)({},e,{isLoading:!1});case Ne.LOAD_ALL_PROJECTS_FOR_MEMBER:return Object(p.a)({},e,{isLoading:!1,projects:t.payload});case Ne.LOAD_ALL_PROJECTS_FOR_MEMBER_ERROR:return Object(p.a)({},e,{isLoading:!1});case Ne.SET_PROJECT_FAVORITE:var n=Array.from(e.projects),r=t.payload.index;return n[r].project.projectIsFavorite=!n[r].project.projectIsFavorite,Object(p.a)({},e,{isLoading:!1,projects:n});case Ne.SET_PROJECT_FAVORITE_ERROR:return Object(p.a)({},e,{isLoading:!1});default:return e}}}),Fe=a(331),Be=Object(m.createStore)(xe,Object(Fe.composeWithDevTools)(Object(m.applyMiddleware)(u.a))),Ue={Request:s,History:l,Method:d},Ge=a(7),He=a(8),We=a(11),Ve=a(9),Je=a(10),ze=a(3),Ke=a(15),qe=a(2),Ye=a.n(qe),Xe=function(e){function t(){return Object(Ge.a)(this,t),Object(We.a)(this,Object(Ve.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ye.a,{container:!0,justify:"center",alignItems:"center",className:e.fullScreen},r.a.createElement("iframe",{className:e.waveScreen,src:"https://polytech.wave-it.fr/agenda"}))}}]),t}(r.a.Component),Ze=Object(o.b)(function(e){return{}},{})(Object(Ke.withStyles)(function(e){return{fullScreen:{bottom:0,top:48,position:"absolute",padding:2*e.spacing.unit},waveScreen:{height:"100%",width:"100%"}}})(Xe)),$e=a(5906),Qe=a(5909),et=a(5905),tt=a(5907),at=a(16),nt=a(333),rt=a.n(nt),it=a(51),ot=a.n(it),st=a(44),ct=a.n(st),lt=a(19),dt=a.n(lt),mt=a(164),ut=a.n(mt),pt=a(20),ht=a.n(pt),Et=a(163),bt=a.n(Et),ft=a(61),gt=a.n(ft),Ot=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).submit=a.submit.bind(Object(ze.a)(Object(ze.a)(a))),e.invitation?a.state={memberEmail:e.invitation.memberEmail,memberPassword:""}:a.state={memberEmail:"",memberPassword:""},a.signinWithGithub=a.signinWithGithub.bind(Object(ze.a)(Object(ze.a)(a))),a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"submit",value:function(){var e=this.state.memberEmail,t=this.state.memberPassword;this.props.invitation?this.props.onLogin(e,t,null):this.props.onLogin(e,t,"/home")}},{key:"signinWithGithub",value:function(){this.props.onSigninWithGithub()}},{key:"goToForgottenPassword",value:function(){Ue.History.push("/password-forgotten")}},{key:"goToSignUp",value:function(){Ue.History.push("/signup")}},{key:"goToDownloadPage",value:function(){Ue.History.push("/download")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(at.a)({},a,n))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.errorMsg;return r.a.createElement(Ye.a,{container:!0,alignItems:"flex-start",className:t.layout},r.a.createElement(Ye.a,{xs:1,sm:3,md:5,item:!0,className:t.leftLayout}),r.a.createElement(Ye.a,{xs:10,sm:9,md:7,item:!0,className:t.rightLayout},r.a.createElement(Ye.a,{container:!0,justify:"center"},r.a.createElement(Ye.a,{xs:12,item:!0,className:t.xsMarginBottom},r.a.createElement("form",null,r.a.createElement(Ye.a,{spacing:16,alignItems:"flex-start",container:!0},r.a.createElement(Ye.a,{xs:6,sm:4,item:!0},r.a.createElement(ct.a,{error:!!a,required:!0,disabled:this.props.invitation,className:t.textfield,name:"memberEmail",id:"email",label:"Email",margin:"normal",variant:"outlined",type:"email",value:this.state.memberEmail,fullWidth:!0,onChange:this.handleChange.bind(this)})),r.a.createElement(Ye.a,{xs:6,sm:4,item:!0},r.a.createElement(ct.a,{required:!0,className:t.textfield,error:!!a,id:"password",name:"memberPassword",label:"Password",margin:"normal",variant:"outlined",type:"password",fullWidth:!0,onChange:this.handleChange.bind(this)}),r.a.createElement(dt.a,{size:"small",onClick:this.goToForgottenPassword},"Forgot password")),r.a.createElement(Ye.a,{xs:12,sm:4,item:!0},r.a.createElement(dt.a,{variant:"contained",fullWidth:!0,size:"large",color:"primary",onClick:this.submit},"Sign In"))))),r.a.createElement(Ye.a,{xs:12,item:!0},r.a.createElement(Ye.a,{container:!0},r.a.createElement(Ye.a,{xs:1,sm:2,lg:3,item:!0}),r.a.createElement(Ye.a,{xs:11,sm:8,lg:6,item:!0},r.a.createElement(Ye.a,{justify:"center",container:!0,className:t.xsMarginBottom},r.a.createElement(Ye.a,{item:!0},r.a.createElement("img",{src:ot.a,width:"70",alt:"prello logo"}))),r.a.createElement(ht.a,{variant:"h4",gutterBottom:!0,className:t.xsMarginBottom},"Start managing your projects and share them"),this.props.invitation?null:r.a.createElement("div",null,r.a.createElement(ht.a,{variant:"h6",gutterBottom:!0},"Join Prello today"),r.a.createElement(dt.a,{variant:"outlined",color:"primary",fullWidth:!0,className:t.button,onClick:this.goToSignUp},"Create your account",r.a.createElement(bt.a,{className:t.rightIcon})),r.a.createElement(dt.a,{variant:"outlined",color:"inherit",fullWidth:!0,className:t.button,onClick:this.signinWithGithub},"Sign In with Github",r.a.createElement(ut.a,{className:t.rightIcon})),r.a.createElement(dt.a,{variant:"outlined",color:"inherit",fullWidth:!0,className:t.button,onClick:this.goToDownloadPage},"Download desktop app",r.a.createElement(gt.a,{className:t.rightIcon})))))),r.a.createElement(Ye.a,{item:!0})),r.a.createElement("label",{className:t.errorLabel},a)))}}]),t}(r.a.Component),Rt={onLogin:le.signinAction.signin,onSigninWithGithub:le.signinAction.signinWithGithub},_t=Object(o.b)(function(e){return{errorMsg:e.signin.msgError}},Rt)(Object(Ke.withStyles)(function(e){return{layout:{height:"100%",margin:0},textfield:{marginTop:0},paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},rightLayout:{height:"100%",padding:2*e.spacing.unit},leftLayout:{height:"100%",backgroundImage:"url(".concat(rt.a,")"),padding:2*e.spacing.unit},errorLabel:{marginTop:2*e.spacing.unit},cardPresentation:{marginTop:200},rightIcon:{marginLeft:e.spacing.unit},button:{margin:e.spacing.unit},card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},typography:{useNextVariants:!0},paddingSide:{paddingLeft:23*e.spacing.unit,paddingRight:23*e.spacing.unit},xsMarginBottom:{marginBottom:5*e.spacing.unit},logo:{marginRight:"auto",marginLeft:"auto"}}})(Ot)),jt=a(34),Ct=a.n(jt),Tt=a(97),yt=a.n(Tt);var At=Object(Ke.withStyles)(function(e){return{progress:{margin:2*e.spacing.unit}}})(function(e){var t=e.classes;return r.a.createElement("div",null,r.a.createElement(yt.a,{className:t.progress,size:150}))}),It=a(21),vt=a.n(It),Lt=function(e){function t(){return Object(Ge.a)(this,t),Object(We.a)(this,Object(Ve.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(vt.a,{container:!0,justify:"center",className:e.layout},r.a.createElement(At,null))}}]),t}(n.Component),St=Object(Ke.withStyles)(function(e){return{layout:{paddingTop:10*e.spacing.unit}}})(Lt),Dt=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).generateTextfields=function(){for(var e=["First name","Last name","Pseudo","Email","Password","Password confirmation"],t=["text","text","text","email","password","password"],n=Object.values(a.state),i=Object.keys(a.state),o=[],s=0,c=0;c<n.length;c++){var l=n[c];o.push(r.a.createElement(ct.a,{error:a.props.errorMsg[1]===i[s]||"all"===a.props.errorMsg[1]&&""===l,disabled:a.props.invitation&&"email"===t[s],required:!0,key:i[s],name:i[s],label:e[s],value:l,fullWidth:!0,type:t[s],onChange:a.handleChange,margin:"normal",variant:"outlined"})),s+=1}return o},a.handleChange=a.handleChange.bind(Object(ze.a)(Object(ze.a)(a))),a.generateTextfields=a.generateTextfields.bind(Object(ze.a)(Object(ze.a)(a))),a.submit=a.submit.bind(Object(ze.a)(Object(ze.a)(a))),a.state={memberFirstname:"",memberLastname:"",memberPseudo:"",memberEmail:"",memberPassword:"",memberCheckPassword:""},e.invitation&&(a.state.memberEmail=e.invitation.memberEmail),a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"submit",value:function(){var e=!1;this.state.memberPseudo.trim().toLowerCase(),this.props.invitation&&(e=!0),this.props.onAdd(this.state,e)}},{key:"goBackToLogin",value:function(){Ue.History.push("/login")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(at.a)({},a,n))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,this.props.isLoading?r.a.createElement(St,null):r.a.createElement(Ye.a,{justify:"center",className:e.layout,container:!0},r.a.createElement(Ye.a,{justify:"center",container:!0,className:e.logo},r.a.createElement(Ye.a,{item:!0},r.a.createElement("img",{src:ot.a,width:"60",alt:"prello logo"}))),r.a.createElement(Ct.a,{component:"h1",variant:"h5"},"Create your account"),r.a.createElement(Ye.a,{justify:"center",container:!0,className:e.marginBottom},r.a.createElement(Ye.a,{xs:10,sm:6,md:4,item:!0},r.a.createElement("form",{className:e.form},this.generateTextfields()),r.a.createElement(Ye.a,{container:!0},r.a.createElement(Ye.a,{container:!0,justify:"center",className:e.marginBottom},r.a.createElement(Ct.a,{variant:"overline"},this.props.errorMsg[0])),r.a.createElement(Ye.a,{xs:6,className:e.paddingRight,item:!0},r.a.createElement(dt.a,{variant:"outlined",fullWidth:!0,color:"primary",onClick:this.goBackToLogin},"Back")),r.a.createElement(Ye.a,{xs:6,className:e.paddingLeft,item:!0},r.a.createElement(dt.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:this.submit},"Sign Up")))))))}}]),t}(r.a.Component),Pt={onAdd:le.signupAction.signup},kt=Object(o.b)(function(e){return{errorMsg:e.signup.msgError,isInvitation:e.signup.isInvitation,isLoading:e.signup.isLoading}},Pt)(Object(Ke.withStyles)(function(e){return{layout:{height:"100%"},paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit,marginBottom:3*e.spacing.unit},submit:{marginTop:3*e.spacing.unit},marginBottom:{marginBottom:3*e.spacing.unit},logo:{marginTop:3*e.spacing.unit,marginBottom:2*e.spacing.unit},paddingLeft:{paddingLeft:e.spacing.unit},paddingRight:{paddingRight:e.spacing.unit}}})(Dt)),Mt=a(32),Nt=a.n(Mt),wt=a(98),xt=a.n(wt),Ft=a(63),Bt=a.n(Ft),Ut=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).componentDidMount=a.componentDidMount.bind(Object(ze.a)(Object(ze.a)(a))),a.acceptInvitation=a.acceptInvitation.bind(Object(ze.a)(Object(ze.a)(a))),a.refuseInvitation=a.refuseInvitation.bind(Object(ze.a)(Object(ze.a)(a))),a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.split("/")[2];this.props.onDecryptInvitation(e)}},{key:"acceptInvitation",value:function(){var e={projectId:this.props.project.projectId,memberId:this.props.member.memberId};this.props.onReplyToInvitation(!0,{memberhasprojectStatus:1,projectIsFavorite:!1},e,this.props.member)}},{key:"refuseInvitation",value:function(){var e={projectId:this.props.project.projectId,memberId:this.props.member.memberId};this.props.onReplyToInvitation(!1,null,e)}},{key:"render",value:function(){var e=this.props.classes;return console.log(this.props),r.a.createElement("div",{className:e.layout},this.props.isLoading||this.props.isLoadingGlobal?r.a.createElement(St,null):this.props.isLogged?r.a.createElement("div",null,this.props.isAccountValid?r.a.createElement(Ye.a,{container:!0,justify:"center"},r.a.createElement(Ye.a,{justify:"center",container:!0,className:e.logo},r.a.createElement(Ye.a,{item:!0},r.a.createElement("img",{src:ot.a,width:"100",alt:"prello logo"}))),r.a.createElement(Ye.a,{justify:"center",container:!0},r.a.createElement(ht.a,{variant:"h5",gutterBottom:!0,className:e.marginBottom},"You received an invitation to join a project.")),r.a.createElement(Ye.a,{justify:"center",container:!0},r.a.createElement(ht.a,{variant:"overline",gutterBottom:!0,className:e.marginBottom},this.props.project.projectTitle)),r.a.createElement(Ye.a,{container:!0,justify:"center"},r.a.createElement(Ye.a,{item:!0,xs:8,sm:4,md:3},r.a.createElement(Nt.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.button,onClick:this.acceptInvitation},"join",r.a.createElement(xt.a,{className:e.rightIcon})))),r.a.createElement(Ye.a,{container:!0,justify:"center"},r.a.createElement(Ye.a,{item:!0,xs:8,sm:4,md:3},r.a.createElement(Nt.a,{fullWidth:!0,variant:"outlined",color:"secondary",className:e.button,onClick:this.refuseInvitation},"Refuse",r.a.createElement(Bt.a,{className:e.rightIcon}))))):r.a.createElement("div",null,"Error")):1===this.props.member.memberStatus?r.a.createElement(_t,{parent:"Invitation",invitation:{memberEmail:this.props.member.memberEmail}}):r.a.createElement(kt,{invitation:{memberEmail:this.props.member.memberEmail}}))}}]),t}(r.a.Component),Gt={onDecryptInvitation:le.invitationAction.isMemberExist,onReplyToInvitation:le.invitationAction.replyToInvitation},Ht=Object(o.b)(function(e){return{isLoadingGlobal:e.signin.isLoading,isLoading:e.invitation.isLoading,isAccountExist:e.invitation.isAccountExist,isAccountValid:e.invitation.isAccountValid,isLogged:e.signin.isLogged,member:e.invitation.member,project:e.invitation.project}},Gt)(Object(Ke.withStyles)(function(e){return{marginBottom:{marginBottom:10*e.spacing.unit},logo:{marginTop:5*e.spacing.unit,marginBottom:10*e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},button:{margin:e.spacing.unit},layout:{height:"100%"}}})(Ut)),Wt=a(117),Vt=a.n(Wt),Jt=a(47),zt=a.n(Jt),Kt=a(54),qt=a.n(Kt),Yt=a(165),Xt=a.n(Yt),Zt=a(52),$t=a.n(Zt),Qt=a(40),ea=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).displayComponent=function(e){var t=e.currentTarget.id;a.props.history.push(t)},a.buildLinks=function(){var e=a.props.classes,t=[],n=!0,i=!1,o=void 0;try{for(var s,c=a.props.links[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;t.push(r.a.createElement(zt.a,{id:l.route,className:e.menuItem,key:l.label,onClick:a.displayComponent},r.a.createElement(Xt.a,{className:e.icon},l.icon),r.a.createElement($t.a,{classes:{primary:e.primary},inset:!0,primary:l.label})))}}catch(d){i=!0,o=d}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return t},a.displayComponent=a.displayComponent.bind(Object(ze.a)(Object(ze.a)(a))),a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){return r.a.createElement(qt.a,null,r.a.createElement(Vt.a,null,this.buildLinks()))}}]),t}(r.a.Component),ta=Object(Qt.a)(function(e){return{}},null)(Object(Ke.withStyles)(function(e){return{menuItem:{"&:focus":{backgroundColor:e.palette.primary.main,"& $primary, & $icon":{color:e.palette.common.white}}},primary:{},icon:{}}})(ea)),aa=a(46),na=a(41),ra=a.n(na),ia=a(5908),oa={classic:Object(Ke.createMuiTheme)({palette:{secondary:{main:"#ffc50a"}}}),successWarningError:Object(Ke.createMuiTheme)({palette:{primary:{main:"#4caf50"}}})},sa=a(99),ca=a.n(sa),la=a(166),da=a.n(la),ma=a(22),ua=a.n(ma),pa=function(e){function t(){return Object(Ge.a)(this,t),Object(We.a)(this,Object(Ve.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(da.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.props.open,autoHideDuration:6e3,onClose:this.props.handleSnackbarClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},this.props.message),action:[r.a.createElement(ua.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:this.props.handleSnackbarClose},r.a.createElement(Bt.a,null))]}))}}]),t}(r.a.Component),ha=Object(Ke.withStyles)(function(e){return{close:{padding:e.spacing.unit/2}}})(pa),Ea=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.value.trim()))}},a.handleSnackbarClose=function(e,t){"clickaway"!==t&&a.setState({openSnackbar:!1})},a.generateTextfields=function(){for(var e=a.props.classes,t={oldPassword:a.state.oldPassword,newPassword:a.state.newPassword,newPasswordConfirmation:a.state.newPasswordConfirmation},n=Object.values(t),i=Object.keys(t),o=[],s=0,c=0;c<n.length;c++){var l=n[c];o.push(r.a.createElement(Ye.a,{container:!0,justify:"center",item:!0,key:i[s]},r.a.createElement(ra.a,{id:i[s],label:a.state.labelsForClient[s],className:e.textField,value:l,onChange:a.handleChange(i[s]),margin:"normal",variant:"outlined",type:"password"}))),s+=1}return o},a.submit=a.submit.bind(Object(ze.a)(Object(ze.a)(a))),a.handleChange=a.handleChange.bind(Object(ze.a)(Object(ze.a)(a))),a.generateTextfields=a.generateTextfields.bind(Object(ze.a)(Object(ze.a)(a))),a.checkFields=a.checkFields.bind(Object(ze.a)(Object(ze.a)(a))),a.handleSnackbarClose=a.handleSnackbarClose.bind(Object(ze.a)(Object(ze.a)(a))),a.state={labelsForClient:["Current password","New password","Confirmation"],oldPassword:"",newPassword:"",newPasswordConfirmation:"",openSnackbar:!1,updatePasswordMsg:a.props.updatePasswordMsg},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"submit",value:function(){this.checkFields()&&(this.setState({oldPassword:"",newPassword:"",newPasswordConfirmation:"",openSnackbar:!0}),this.props.onUpdateMemberPassword({memberId:this.props.memberId,memberPassword:this.state.oldPassword,newMemberPassword:this.state.newPassword}))}},{key:"checkFields",value:function(){return""!==this.state.oldPassword&&""!==this.state.newPassword&&""!==this.state.newPasswordConfirmation&&this.state.newPassword===this.state.newPasswordConfirmation}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ye.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(Ye.a,{item:!0},r.a.createElement(ia.a,{theme:oa.successWarningError},r.a.createElement(Nt.a,{color:"primary",variant:"contained",size:"small",className:e.button,onClick:this.submit},r.a.createElement(ca.a,{className:(e.leftIcon,e.iconSmall)}),"Change"))),r.a.createElement(Ye.a,{xs:12,item:!0},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},this.generateTextfields())),r.a.createElement(ha,{handleSnackbarClose:this.handleSnackbarClose,open:this.state.openSnackbar,message:this.props.updatePasswordMsg}))}}]),t}(r.a.Component),ba={onUpdateMemberPassword:le.profileAction.updateMemberPassword},fa=Object(o.b)(function(e){return{memberId:e.signin.member.memberId,updatePasswordMsg:e.profile.updatePasswordMsg}},ba)(Object(Ke.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:16},menu:{width:200},button:{margin:e.spacing.unit,color:"#fff"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20}}})(Ea)),ga=a(105),Oa=a.n(ga),Ra=a(106),_a=a.n(Ra),ja=a(87),Ca=a.n(ja);var Ta=Object(Ke.withStyles)(function(e){return{progress:{margin:2*e.spacing.unit}}})(function(e){var t=e.classes,a=e.size;return r.a.createElement("div",null,r.a.createElement(yt.a,{className:t.progress,size:a||30}))}),ya=a(13),Aa=a.n(ya),Ia=a(36),va=a.n(Ia),La=a(167),Sa=a.n(La),Da=a(334),Pa=(a(5826),function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.value))}},a.handleIsEditable=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.checked))}},a.handleSnackbarClose=function(e,t){"clickaway"!==t&&a.setState({openSnackbar:!1})},a.handleChange=a.handleChange.bind(Object(ze.a)(Object(ze.a)(a))),a.submit=a.submit.bind(Object(ze.a)(Object(ze.a)(a))),a.changePicture=a.changePicture.bind(Object(ze.a)(Object(ze.a)(a))),a.handleProfilePicture=a.handleProfilePicture.bind(Object(ze.a)(Object(ze.a)(a))),a.state={labelsForClient:["First name","Last name","Pseudo"],memberFirstname:a.props.member.memberFirstname,memberLastname:a.props.member.memberLastname,memberPseudo:a.props.member.memberPseudo,memberEmail:a.props.member.memberEmail,isEditable:!1,openSnackbar:!1},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"submit",value:function(){var e={memberId:this.props.member.memberId,memberFirstname:this.state.memberFirstname,memberLastname:this.state.memberLastname,memberEmail:this.state.memberEmail,memberPseudo:this.state.memberPseudo};this.props.onUpdateMember(e),this.setState({openSnackbar:!0,isEditable:!1})}},{key:"handleProfilePicture",value:function(e){this.setState({file:e.target.files[0]})}},{key:"changePicture",value:function(){if(this.state.file){var e=new FormData;e.append("image",this.state.file[0],this.state.file[0].name),this.props.onUpdateMemberPicture(e,this.props.member.memberId),this.setState({openSnackbar:!0,isEditable:!1})}}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(Ye.a,{container:!0,alignItems:"center",justify:"center"},r.a.createElement(Ye.a,{container:!0,justify:"center",className:t.logoContainer},this.props.isLoading?r.a.createElement(Ta,{size:200}):r.a.createElement(Ca.a,{alt:this.state.memberFirstname+"sharp",src:this.props.member.memberPicture,className:Aa()(t.avatar,t.bigAvatar)})),r.a.createElement(Ye.a,{justify:"center",alignItems:"center",container:!0},r.a.createElement(Ye.a,{xs:4,item:!0},r.a.createElement(Da.FilePond,{maxFiles:3,className:t.upload,onupdatefiles:function(t){e.setState({file:t.map(function(e){return e.file})})}})),r.a.createElement(Nt.a,{color:"primary",variant:"contained",size:"small",className:t.button,disabled:!this.state.isEditable,onClick:this.changePicture},r.a.createElement(Sa.a,{className:(t.leftIcon,t.iconSmall)}))),r.a.createElement(Ye.a,{justify:"center",container:!0},r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(va.a,null))),r.a.createElement(Ye.a,{container:!0,justify:"flex-start"},r.a.createElement(Oa.a,{control:r.a.createElement(_a.a,{checked:this.state.isEditable,onChange:this.handleIsEditable("isEditable"),value:"isEditable",color:"primary"}),label:"Edit informations"}),r.a.createElement(ia.a,{theme:oa.successWarningError},r.a.createElement(Nt.a,{color:"primary",variant:"contained",size:"small",className:t.button,disabled:!this.state.isEditable,onClick:this.submit},r.a.createElement(ca.a,{className:(t.leftIcon,t.iconSmall)}),"Save"))),r.a.createElement(Ye.a,{item:!0}),r.a.createElement(Ye.a,{container:!0,justify:"flex-start"},r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(ra.a,{disabled:!this.state.isEditable,id:"memberFirstname",label:"Firstname",className:t.textField,value:this.state.memberFirstname,onChange:this.handleChange("memberFirstname"),margin:"normal",variant:"outlined"}),r.a.createElement(ra.a,{disabled:!this.state.isEditable,id:"memberLastname",label:"Lastname",className:t.textField,value:this.state.memberLastname,onChange:this.handleChange("memberLastname"),margin:"normal",variant:"outlined"}),r.a.createElement(ra.a,{disabled:!this.state.isEditable||this.props.member.memberIsLinkWithGithub,id:"memberPseudo",label:"Pseudo",className:t.textField,value:this.state.memberPseudo,onChange:this.handleChange("memberPseudo"),margin:"normal",variant:"outlined"}),r.a.createElement(ra.a,{disabled:!this.state.isEditable||null!==this.props.member.memberEmail,id:"memberEmail",label:"Email",className:t.textField,value:this.state.memberEmail,onChange:this.handleChange("memberEmail"),margin:"normal",variant:"outlined"}))),r.a.createElement(ha,{handleSnackbarClose:this.handleSnackbarClose,open:this.state.openSnackbar,message:"Informations updated."}))}}]),t}(r.a.Component)),ka={onUpdateMember:le.profileAction.updateMember,onUpdateMemberPicture:le.profileAction.updateMemberPicture},Ma=Object(o.b)(function(e){return{member:e.signin.member,isLoading:e.profile.isLoading}},ka)(Object(Ke.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:16},menu:{width:200},button:{margin:e.spacing.unit,color:"#fff"},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},avatar:{margin:10},bigAvatar:{width:200,height:200},logoContainer:{marginBottom:5*e.spacing.unit},upload:{color:"black",width:"100%"}}})(Pa)),Na=a(168),wa=a.n(Na),xa=a(169),Fa=a.n(xa),Ba=function(e){function t(){return Object(Ge.a)(this,t),Object(We.a)(this,Object(Ve.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=[{label:"Overview",route:"/profile/overview",icon:r.a.createElement(wa.a,null)},{label:"Change Password",route:"/profile/password",icon:r.a.createElement(Fa.a,null)}],t=this.props.classes;return r.a.createElement(aa.b,{container:!0,spacing:16,className:t.body},r.a.createElement(aa.b,{item:!0,xs:3},r.a.createElement(ta,{links:e,history:Ue.History})),r.a.createElement(aa.b,{item:!0,xs:9},r.a.createElement(tt.a,{history:Ue.History},r.a.createElement($e.a,null,r.a.createElement(Qe.a,{component:Ma,exact:!0,path:"/profile/overview"}),r.a.createElement(Qe.a,{component:fa,exact:!0,path:"/profile/password"}),r.a.createElement(Qe.a,{component:Ma,exact:!0,path:"/profile/parameters"}),r.a.createElement(Qe.a,{path:"*",render:function(){return r.a.createElement(et.a,{to:"/profile/overview"})}})))))}}]),t}(r.a.Component),Ua=Object(o.b)(function(e){return{}},{})(Object(Ke.withStyles)(function(e){return{body:{width:"100%",paddingLeft:8}}})(Ba)),Ga=a(5904),Ha=a(100),Wa=a.n(Ha),Va=a(170),Ja=a.n(Va),za=a(85),Ka=a.n(za),qa=a(76),Ya=a.n(qa),Xa=a(68),Za=a.n(Xa),$a=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.checked));var n=a.props.notification,r=a.props.notifications.indexOf(n);t.target.checked?n.mhaStatus=1:n.mhaStatus=0,a.props.onHandleCheckbox(a.props.notifications,n,r,t.target.checked,a.props.notificationsUnread)}},a.computeBackground=function(){var e=a.props.classes;return 1===a.props.notification.mhaStatus?e.card:e.cardUnread},a.handleChange=a.handleChange.bind(Object(ze.a)(Object(ze.a)(a))),a.state={isRead:1===a.props.notification.mhaStatus,updatedNotifications:[]},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.notification;return r.a.createElement(Wa.a,{className:this.computeBackground()},r.a.createElement(Ja.a,{className:e.content},r.a.createElement(Ct.a,{align:"right",variant:"caption",className:e.pos},t.Action.actionDateCreation),r.a.createElement(Ya.a,{TransitionComponent:Za.a,TransitionProps:{timeout:600},title:"Mark as read",placement:"top-start"},r.a.createElement(Oa.a,{control:r.a.createElement(Ka.a,{checked:this.state.isRead,onChange:this.handleChange("isRead"),value:"isRead",color:"primary"}),label:t.Action.actionTitle})),r.a.createElement(Ct.a,{className:e.pos,variant:"caption"},t.Action.actionDescription)))}}]),t}(r.a.Component),Qa={onHandleCheckbox:le.navbarAction.handleCheckboxNotification},en=Object(Qt.a)(function(e){return{notifications:e.navbar.notifications,notificationsUnread:e.navbar.notificationsUnread}},Qa)(Object(Ke.withStyles)({card:{width:"100%"},cardUnread:{width:"100%",backgroundColor:"#e7ecff"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{paddingBottom:0},content:{paddingTop:10,paddingBottom:0}})($a)),tn=a(48),an=a.n(tn),nn=a(45),rn=a.n(nn),on=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).state={},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.list},r.a.createElement(an.a,null,this.props.notifications.map(function(t,a){return e.props.unreadFilter?0===t.mhaStatus?r.a.createElement(rn.a,{key:a},r.a.createElement(en,{notification:t,notifications:e.props.notifications,notificationsUnread:e.props.notificationsUnread})):null:r.a.createElement(rn.a,{key:a},r.a.createElement(en,{notification:t,notifications:e.props.notifications,notificationsUnread:e.props.notificationsUnread}))})))}}]),t}(r.a.Component),sn=Object(Ke.withStyles)(function(e){return{menuItem:{},primary:{},icon:{},list:{width:300},fullList:{width:"auto"}}})(on),cn=a(1),ln=a.n(cn),dn=a(335),mn=a.n(dn),un=a(340),pn=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).fetchSuggestions=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(at.a)({},n,r)),a.props.onSearchProjects(r,a.props.memberId),a.props.onSearchLists(r,a.props.memberId),a.props.onSearchCards(r,a.props.memberId)},a.fetchSuggestions=a.fetchSuggestions.bind(Object(ze.a)(Object(ze.a)(a))),a.getSuggestions=a.getSuggestions.bind(Object(ze.a)(Object(ze.a)(a))),a.setWrapperRef=a.setWrapperRef.bind(Object(ze.a)(Object(ze.a)(a))),a.handleClickOutside=a.handleClickOutside.bind(Object(ze.a)(Object(ze.a)(a))),a.renderSuggestion=a.renderSuggestion.bind(Object(ze.a)(Object(ze.a)(a))),a.handleClickSuggestion=a.handleClickSuggestion.bind(Object(ze.a)(Object(ze.a)(a))),a.renderSuggestion.propTypes={highlightedIndex:ln.a.number,index:ln.a.number,itemProps:ln.a.object,selectedItem:ln.a.string,suggestion:ln.a.shape({label:ln.a.string}).isRequired},a.state={searchInput:"",isOpen:!1},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"renderSuggestion",value:function(e){var t=e.suggestion,a=(e.index,e.itemProps),n=(e.highlightedIndex,e.selectedItem),i=e.type,o=(n||"").indexOf(t.label)>-1,s="";"project"===i&&(s+="project/"+t.id),"list"===i&&(s+="list/"+t.projectId+"/"+t.id),"card"===i&&(s+="card/"+t.projectId+"/"+t.listId+"/"+t.id);var c=this.props.classes;return r.a.createElement(zt.a,Object.assign({},a,{key:s,id:s,className:c.highlight,onClick:this.handleClickSuggestion,component:"div",style:{fontWeight:o?500:400}}),t.label)}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)?this.setState({isOpen:!1}):this.setState({isOpen:!0})}},{key:"getSuggestions",value:function(e,t){var a=mn()(e.trim()),n=a.toLowerCase(),r=a.charAt(0).toUpperCase()+a.slice(1),i=a.length,o=0;return 0===i?[]:t.filter(function(e){var t=o<5&&(e.label.includes(a)||e.label.includes(n)||e.label.includes(r));return t&&(o+=1),t})}},{key:"handleClickSuggestion",value:function(e){var t=e.target.id.split("/"),a="/project/"+t[1];"card"===t[0]&&(a+="/"+t[2]+"/"+t[3]),this.setState({isOpen:!1,searchInput:""}),this.props.onResetSearchArrays(),Ue.History.push(a)}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.root,ref:this.setWrapperRef},r.a.createElement(un.a,{id:"downshift-simple"},function(a){a.getInputProps;var n=a.getItemProps,i=a.getMenuProps,o=a.highlightedIndex,s=(a.inputValue,a.isOpen,a.selectedItem);return r.a.createElement("div",{className:t.container},r.a.createElement(ct.a,{InputProps:{classes:{root:t.inputRoot,input:t.inputInput}},required:!0,id:"searchInput",name:"searchInput",fullWidth:!0,onChange:e.fetchSuggestions,value:e.state.searchInput}),r.a.createElement("div",i(),e.state.isOpen&&""!==e.state.input?r.a.createElement(qt.a,{className:t.paper,square:!0},e.props.projects.length>0?r.a.createElement("div",null,r.a.createElement("div",{id:"label",className:t.labelSearchTitle},r.a.createElement(ht.a,{variant:"overline"},"Projects ",e.props.projects.length)),r.a.createElement(va.a,null),e.getSuggestions(e.state.searchInput,e.props.projects).map(function(t,a){return e.renderSuggestion({suggestion:t,index:a,itemProps:n({item:t.label}),highlightedIndex:o,selectedItem:s,type:"project"})}),r.a.createElement(va.a,null)):null,e.props.lists.length>0?r.a.createElement("div",null,r.a.createElement("div",{id:"label",className:t.labelSearchTitle},r.a.createElement(ht.a,{variant:"overline"},"Lists")),r.a.createElement(va.a,null),e.getSuggestions(e.state.searchInput,e.props.lists).map(function(t,a){return e.renderSuggestion({suggestion:t,index:a,itemProps:n({item:t.label}),highlightedIndex:o,selectedItem:s,type:"list"})}),r.a.createElement(va.a,null)):null,e.props.cards.length>0?r.a.createElement("div",null,r.a.createElement("div",{id:"label",className:t.labelSearchTitle},r.a.createElement(ht.a,{variant:"overline"},"Cards")),r.a.createElement(va.a,null),e.getSuggestions(e.state.searchInput,e.props.cards).map(function(t,a){return e.renderSuggestion({suggestion:t,index:a,itemProps:n({item:t.label}),highlightedIndex:o,selectedItem:s,type:"card"})})):null):null))}))}}]),t}(r.a.Component),hn={onSearchProjects:le.searchbarAction.searchProjects,onSearchLists:le.searchbarAction.searchLists,onSearchCards:le.searchbarAction.searchCards,onResetSearchArrays:le.searchbarAction.resetSearchArrays},En=Object(Qt.a)(function(e){return{projects:e.searchbar.projectsFound,lists:e.searchbar.listsFound,cards:e.searchbar.cardsFound,memberId:e.signin.member.memberId}},hn)(Object(Ke.withStyles)(function(e){return{root:{flexGrow:1},container:{flexGrow:1,position:"relative"},paper:{position:"absolute",zIndex:2,opacity:1,marginTop:e.spacing.unit,left:0,right:0},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(at.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),divider:{height:2*e.spacing.unit},labelSearchTitle:{paddingLeft:2*e.spacing.unit},highlight:{}}})(pn)),bn=a(77),fn=a.n(bn),gn=a(171),On=a.n(gn),Rn=a(172),_n=a.n(Rn),jn=a(78),Cn=a.n(jn),Tn=a(173),yn=a.n(Tn),An=a(122),In=a.n(An),vn=a(121),Ln=a.n(vn),Sn=a(69),Dn=a.n(Sn),Pn=a(234),kn=a.n(Pn),Mn=a(86),Nn=a.n(Mn),wn=a(120),xn=a.n(wn),Fn=a(72),Bn=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(e){a.setState({anchorEl:null}),a.displayComponent(e),a.handleMobileMenuClose()},a.displayComponent=function(e){var t=e.currentTarget.id;"/login"!==t&&""!==t&&Ue.History.push(t)},a.handleMobileMenuOpen=function(e){a.setState({mobileMoreAnchorEl:e.currentTarget})},a.handleMobileMenuClose=function(){a.setState({mobileMoreAnchorEl:null})},a.toggleDrawer=function(e,t){return function(){a.updateNotifications(),a.setState(Object(at.a)({},e,t))}},a.handleFilterChange=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.checked))}},a.handleFilter=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.checked))}},a.handleSearchResultsOpen=function(e){a.setState({showSearchResults:"searchbar"===e.target.id})},a.handleSearchResultsClose=function(){a.setState({showSearchResults:!1})},a.logOff=a.logOff.bind(Object(ze.a)(Object(ze.a)(a))),a.updateNotifications=a.updateNotifications.bind(Object(ze.a)(Object(ze.a)(a))),a.handleFilterChange=a.handleFilterChange.bind(Object(ze.a)(Object(ze.a)(a))),a.toggleDrawer=a.toggleDrawer.bind(Object(ze.a)(Object(ze.a)(a))),a.displayComponent=a.displayComponent.bind(Object(ze.a)(Object(ze.a)(a))),a.goToDownloadPage=a.goToDownloadPage.bind(Object(ze.a)(Object(ze.a)(a))),a.goToWaveIt=a.goToWaveIt.bind(Object(ze.a)(Object(ze.a)(a))),a.state={anchorEl:null,mobileMoreAnchorEl:null,resultsAnchorEl:null,right:!1,showSearchResults:!1,filterOnlyUnread:!1},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentDidMount",value:function(){this.props.onGetAllNonArchivedNotifications()}},{key:"updateNotifications",value:function(){this.props.onUpdateNotifications(this.props.notifications)}},{key:"logOff",value:function(e){this.handleMenuClose(e),this.props.onLogOff()}},{key:"goToDownloadPage",value:function(){this.handleMobileMenuClose(),Ue.History.push("/download")}},{key:"goToWaveIt",value:function(){this.handleMobileMenuClose(),Ue.History.push("/schedules")}},{key:"render",value:function(){var e=this.state,t=e.anchorEl,a=e.mobileMoreAnchorEl,n=e.resultsAnchorEl,i=this.props.classes,o=Boolean(t),s=Boolean(a),c=Boolean(n),l=r.a.createElement(fn.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,className:i.openedMenu,onClose:this.handleMenuClose},r.a.createElement(zt.a,{id:"/profile/overview",onClick:this.handleMenuClose},"Profile"),r.a.createElement(zt.a,{id:"/login",onClick:this.logOff},"Log off")),d=r.a.createElement(kn.a,{anchor:"right",open:this.state.right,onClose:this.toggleDrawer("right",!1)},r.a.createElement("div",{tabIndex:0,role:"button",onKeyDown:this.toggleDrawer("right",!1)},r.a.createElement(Ye.a,{alignItems:"center",justify:"center",container:!0},r.a.createElement(Ye.a,{xs:2,item:!0},r.a.createElement(ua.a,{onClick:this.toggleDrawer("right",!1),color:"inherit"},r.a.createElement(Nn.a,{color:"primary"}))),r.a.createElement(Ye.a,{xs:8,item:!0},r.a.createElement(Nt.a,{fullWidth:!0,color:"primary",className:i.button},this.props.notificationsUnread," Notifications")),r.a.createElement(Ye.a,{xs:2,item:!0})),r.a.createElement(va.a,null),r.a.createElement("div",{className:i.notificationList},r.a.createElement(sn,{notifications:this.props.notifications,notificationsUnread:this.props.notificationsUnread,unreadFilter:this.state.filterOnlyUnread})),r.a.createElement(va.a,null),r.a.createElement(Nt.a,{fullWidth:!0,color:"primary",className:i.button},"Filters"),r.a.createElement(va.a,null),r.a.createElement(Ye.a,{justify:"center",container:!0},r.a.createElement(Oa.a,{control:r.a.createElement(_a.a,{checked:this.state.filterOnlyUnread,onChange:this.handleFilter("filterOnlyUnread"),value:"filterOnlyUnread",color:"primary"}),label:"Only unread"})))),m=r.a.createElement(fn.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:this.handleMobileMenuClose},r.a.createElement(zt.a,{onClick:this.goToWaveIt.bind(this)},r.a.createElement(ua.a,{color:"secondary"},r.a.createElement(xn.a,null)),r.a.createElement("p",null,"Schedules")),r.a.createElement(zt.a,{onClick:this.goToDownloadPage.bind(this)},r.a.createElement(ua.a,{color:"primary"},r.a.createElement(gt.a,null)),r.a.createElement("p",null,"Download")),r.a.createElement(zt.a,{onClick:this.toggleDrawer("right",!0)},r.a.createElement(ua.a,{color:"primary"},r.a.createElement(Cn.a,{badgeContent:this.props.notificationsUnread,color:"secondary"},r.a.createElement(Ln.a,null))),r.a.createElement("p",null,"Notifications")),r.a.createElement(zt.a,{onClick:this.handleProfileMenuOpen},r.a.createElement(ua.a,{coloar:"primary"},r.a.createElement(In.a,null)),r.a.createElement("p",null,"Profile"))),u=r.a.createElement(fn.a,{anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"},open:c,onClose:this.handleSearchResultsClose},r.a.createElement(En,null));return r.a.createElement(ia.a,{theme:oa.classic},r.a.createElement("div",{className:i.root},r.a.createElement(On.a,{position:"static"},r.a.createElement(_n.a,{variant:"dense"},r.a.createElement(Ga.a,{to:"/home"},r.a.createElement(ua.a,{className:i.menuButton,color:"inherit"},r.a.createElement("img",{src:ot.a,width:30,color:"secondary",alt:"prello logo"}))),r.a.createElement("div",{className:i.search},r.a.createElement("div",{className:i.searchIcon},r.a.createElement(yn.a,null)),r.a.createElement(En,null)),r.a.createElement("div",{className:i.grow}),r.a.createElement("div",{className:i.sectionDesktop},r.a.createElement(ua.a,{"aria-owns":o?"material-appbar":null,"aria-haspopup":"true",onClick:this.goToWaveIt,color:"inherit"},r.a.createElement(xn.a,null)),r.a.createElement(ua.a,{"aria-owns":o?"material-appbar":null,"aria-haspopup":"true",onClick:this.goToDownloadPage,color:"inherit"},r.a.createElement(gt.a,null)),r.a.createElement(ua.a,{"aria-owns":o?"material-appbar":null,"aria-haspopup":"true",onClick:this.toggleDrawer("right",!0),color:"inherit"},r.a.createElement(Cn.a,{badgeContent:this.props.notificationsUnread,color:"secondary"},r.a.createElement(Ln.a,null))),r.a.createElement(ua.a,{"aria-owns":o?"material-appbar":null,"aria-haspopup":"true",onClick:this.handleProfileMenuOpen,color:"inherit"},r.a.createElement(In.a,null))),r.a.createElement("div",{className:i.sectionMobile},r.a.createElement(ua.a,{"aria-haspopup":"true",onClick:this.handleMobileMenuOpen,color:"inherit"},r.a.createElement(Dn.a,null))))),l,u,m,d,this.state.showSearchResults?r.a.createElement(En,null):null))}}]),t}(r.a.Component),Un={onLogOff:le.navbarAction.logOff,onGetAllNonArchivedNotifications:le.navbarAction.getAllNonArchivedNotifications,onUpdateNotifications:le.navbarAction.updateNotifications,onShowOnlyUnread:le.notificationAction.showOnlyUnreadAction},Gn=Object(o.b)(function(e){return{notifications:e.navbar.notifications,notificationsUnread:e.navbar.notificationsUnread,notificationsUnarchived:e.navbar.notificationsUnarchived}},Un)(Object(Ke.withStyles)(function(e){return{root:{width:"100%",marginBottom:4*e.spacing.unit},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(at.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(at.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Fn.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Fn.fade)(e.palette.common.white,.25)},marginRight:2*e.spacing.unit,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(at.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(at.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(at.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),openedMenu:{textDecoration:"none",marginTop:55},openedNotifications:{marginTop:72},list:{width:250},fullList:{width:"auto"},notificationList:{overflowY:"scroll",height:50*e.spacing.unit},button:{margin:0},filterRow:{marginLeft:3*e.spacing.unit}}})(Bn)),Hn=function(e){function t(){return Object(Ge.a)(this,t),Object(We.a)(this,Object(Ve.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.split("/")[2];localStorage.setItem("memberToken",e),this.props.onIsMemberLogged()}},{key:"render",value:function(){return r.a.createElement(St,null)}}]),t}(r.a.Component),Wn={onIsMemberLogged:le.signinAction.isMemberLoggedGithub},Vn=Object(o.b)(function(e){return{}},Wn)(Hn),Jn=a(70),zn=function(e){return{card:{backgroundColor:"#FFFAF0",padding:e.spacing.unit},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"},expand:Object(at.a)({transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),marginLeft:"auto"},e.breakpoints.up("sm"),{marginRight:-8}),expandOpen:{transform:"rotate(180deg)"},paper:{position:"absolute",width:80*e.spacing.unit,backgroundColor:"#FFFAF0",boxShadow:e.shadows[5],padding:4*e.spacing.unit,display:"table",clear:"both"},marginCard:{marginTop:10,marginLeft:10},row:{display:"flex",justifyContent:"right",margin:5},rowRight:{display:"flex",justifyContent:"right",float:"right"},sizeButtonModal:{margin:5,maxWidth:"40px",maxHeight:"40px",minWidth:"40px",minHeight:"40px"},column:{float:"left",width:"70%",padding:"10px",margin:5},button:{margin:e.spacing.unit},divider:{margin:15},buttonIcon:{width:43,height:43,marginTop:5,display:"block",marginLeft:"auto",marginRight:0},editButton:{height:"5%",display:"block",marginTop:15,marginLeft:"auto",marginRight:0,backgroundColor:"Transparent",border:"none"},textArea:{width:"100%"},buttonModal:{marginLeft:12,marginBottom:10,width:"23%"},comments:{display:"flex",width:"100%"},iconComments:{marginLeft:15,marginRight:0,display:"block"},done:{color:"green"},markdown:{backgroundColor:"lightgrey"},mdeSize:{},buttonLabel:{margin:0,padding:0,width:"5px !important",heigth:"5px !important"},orangeAvatar:{margin:2,color:"#17394d",backgroundColor:"#dfe3e6",height:"28px",width:"28px",fontSize:"15px",fontStyle:"bold"},avatar:{margin:2},littleAvatar:{width:28,height:28},moreIcon:{padding:4},firstRow:{marginRight:10},scrollContainer:{overflowY:"scroll",height:70*e.spacing.unit},noMargin:{margin:0}}},Kn=a(58),qn=a(39),Yn=a.n(qn),Xn=a(38),Zn=a.n(Xn),$n=function(e){return{form:{margin:20},deleteIcon:{marginRight:10},formLabel:{marginTop:-17},addIcon:{display:"block",marginLeft:"auto",marginRight:20,marginBottom:20},button:{margin:e.spacing.unit},dialogTitle:{textAlign:"center"},memberList:{overflowY:"scroll",height:30*e.spacing.unit},marginBottom:{marginBottom:20},memberItem:{},validIcon:{color:"#6bb53f"},rightIcon:{marginLeft:e.spacing.unit},marginSide:{marginLeft:5,marginRight:5}}},Qn=a(118),er=a.n(Qn),tr=a(75),ar=a.n(tr),nr=a(119),rr=a.n(nr),ir=a(31),or=a(174),sr=a.n(or),cr=a(104),lr=a.n(cr),dr=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleClose=function(){a.props.onClose(a.props.selectedValue)},a.handleChangeCheckbox=function(e){return function(e){var t=e.target.id.split("/")[1],n=e.target.checked,r=Object.assign({},a.state.card);r.TaskCardFks[t].chtState=n;var i=a.state.card.TaskCardFks[t].taskId;a.props.onUpdateTask(i,{chtState:n}),a.setState({card:r})}},a.handleCreateTask=function(e){var t=document.querySelector("#newChecklist").value;if(""!==t){var n={taskTitle:t,chtState:!1,cardId:a.props.card.cardId},r=a.props.card;a.props.onCreateTask(n,r)}},a.handleRemoveTask=function(e){var t=e.currentTarget.id,n=a.props.card.TaskCardFks[t].taskId;a.state.card.TaskCardFks.splice(t,1);var r=a.props.card;a.props.onDeleteTask(n,r),a.setState({maj:!0})},a.handleRemoveTask=a.handleRemoveTask.bind(Object(ze.a)(Object(ze.a)(a))),a.state={card:a.props.card},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=(t.onClose,t.selectedValue,t.onCreateTask,t.onUpdateTask,t.onDeleteTask,t.isLoading),i=Object(Kn.a)(t,["classes","onClose","selectedValue","onCreateTask","onUpdateTask","onDeleteTask","isLoading"]);return r.a.createElement(Zn.a,Object.assign({onClose:this.handleClose,"aria-labelledby":"simple-dialog-title"},i,{className:a.dialog}),r.a.createElement(Yn.a,{id:"simple-dialog-title",className:a.dialogTitle},"Checklist"),r.a.createElement(er.a,{className:a.memberList+" "+a.marginBottomTop},n?r.a.createElement(Ta,null):this.state.card.TaskCardFks?this.props.card.TaskCardFks.map(function(t,n){return r.a.createElement(ar.a,{key:t.taskId,className:a.memberItem},r.a.createElement(rr.a,{primary:t.taskTitle}),r.a.createElement(lr.a,{id:n,color:"secondary",onClick:e.handleRemoveTask},r.a.createElement(ir.b,null)),r.a.createElement(Ya.a,{TransitionComponent:Za.a,TransitionProps:{timeout:600},title:"Remove",placement:"top-start"},r.a.createElement(Ka.a,{checked:t.chtState,id:"checklist/"+n,onChange:e.handleChangeCheckbox("checklist"),value:"checklist"})))}):null),r.a.createElement(Ye.a,{container:!0,justify:"center"},r.a.createElement(Ye.a,{xs:11,item:!0},r.a.createElement(ht.a,{variant:"caption"},"Add a new task"))),r.a.createElement(Ye.a,{justify:"center",alignItems:"flex-end",container:!0,className:a.marginBottom},r.a.createElement(Ye.a,{item:!0,xs:11},r.a.createElement(ra.a,{id:"newChecklist",label:"task",fullWidth:!0,name:"newChecklist",margin:"normal",variant:"outlined"})),r.a.createElement(Ye.a,{item:!0,xs:11},r.a.createElement(dt.a,{fullWidth:!0,size:"small",color:"primary",className:a.validIcon,onClick:this.handleCreateTask.bind(this)},"Add",r.a.createElement(sr.a,{className:a.rightIcon})))))}}]),t}(r.a.Component),mr=Object(Ke.withStyles)($n)(dr),ur=function(e){function t(){var e,a;Object(Ge.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(We.a)(this,(e=Object(Ve.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({open:!1})},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(dt.a,{color:"primary",className:e.button,fullWidth:!0,onClick:this.handleClickOpen},"Checklist"),r.a.createElement(mr,{open:this.state.open,onClose:this.handleClose,card:this.props.card,onUpdateTask:this.props.onUpdateTask,onDeleteTask:this.props.onDeleteTask,onCreateTask:this.props.onCreateTask}))}}]),t}(r.a.Component),pr={onUpdateTask:le.cardAction.updateTask,onDeleteTask:le.cardAction.deleteTask,onCreateTask:le.cardAction.createTask},hr=Object(Qt.a)(function(e){return{isLoading:e.card.isLoading}},pr)(Object(Ke.withStyles)($n)(ur)),Er=function(e){return{dialog:{width:"300px"}}},br=a(124),fr=a.n(br),gr=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleChangeCheckbox=function(e){return function(e){var t=e.target.id.split("/")[1],n=e.target.checked,r=a.props.labels[t],i=a.props.labels[t].labelId,o=a.props.card.cardId;if(n){var s=Object.assign({},a.state.card);s.HaslabelCardFks.push({cardId:o,labelId:i,Label:r}),a.setState({card:s}),a.props.onCreateLinkLabel({cardId:o,labelId:i})}else{var c=a.state.card.HaslabelCardFks.findIndex(function(e){return e.labelId===i}),l=Object.assign({},a.state.card);l.HaslabelCardFks.splice(c,1),a.setState({card:l}),a.props.onDeleteLinkLabel({cardId:o,labelId:i})}a.setState({maj:!0})}},a.handleClose=function(){a.props.onClose()},a.handleChangeCheckbox=a.handleChangeCheckbox.bind(Object(ze.a)(Object(ze.a)(a))),a.state={card:a.props.card,selectedIndex:1},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.classes,t.onClose,t.selectedValue,t.onDeleteLinkLabel,t.onCreateLinkLabel,Object(Kn.a)(t,["classes","onClose","selectedValue","onDeleteLinkLabel","onCreateLinkLabel"]));return r.a.createElement(Zn.a,Object.assign({onClose:this.handleClose,"aria-labelledby":"simple-dialog-title",maxWidth:"xs"},a),r.a.createElement(Yn.a,{id:"simple-dialog-title"},"Set labels"),r.a.createElement(fr.a,null,r.a.createElement(er.a,{component:"nav"},null==this.props.labels?null:this.props.labels?this.props.labels.map(function(t,a){return r.a.createElement(ar.a,{key:t.labelId,selected:2===e.state.selectedIndex},r.a.createElement(Ye.a,{justify:"center",alignItems:"center",container:!0},r.a.createElement(dt.a,{variant:"contained",style:{backgroundColor:t.labelColor}}," "),r.a.createElement(Ka.a,{style:{color:t.labelColor},id:"checklist/"+a,onChange:e.handleChangeCheckbox("checklist"),value:"checklist",checked:!(void 0===e.state.card.HaslabelCardFks.find(function(e){return e.labelId===t.labelId}))})))}):null,r.a.createElement(ar.a,null,r.a.createElement(dt.a,{color:"primary",variant:"outlined",fullWidth:!0,onClick:this.handleClose},"ok")))))}}]),t}(r.a.Component),Or=Object(Ke.withStyles)(Er)(gr),Rr=function(e){function t(){var e,a;Object(Ge.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(We.a)(this,(e=Object(Ve.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({open:!1})},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentDidMount",value:function(){this.props.onGetLabels(this.props.route.params.id)}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(dt.a,{color:"primary",className:e.button,fullWidth:!0,onClick:this.handleClickOpen},"Label"),r.a.createElement(Or,{open:this.state.open,onClose:this.handleClose,card:this.props.card,labels:this.props.labels,onCreateLinkLabel:this.props.onCreateLinkLabel,onDeleteLinkLabel:this.props.onDeleteLinkLabel}))}}]),t}(r.a.Component),_r={onGetLabels:le.cardAction.getLabels,onCreateLinkLabel:le.cardAction.createLinkLabel,onDeleteLinkLabel:le.cardAction.deleteLinkLabel},jr=Object(Qt.a)(function(e){return{labels:e.card.labels}},_r)(Object(Ke.withStyles)(Er)(Rr)),Cr=a(57),Tr=a.n(Cr),yr=a(50),Ar=a.n(yr),Ir=a(64),vr=a.n(Ir),Lr=function(e){function t(){var e,a;Object(Ge.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(We.a)(this,(e=Object(Ve.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,type:a.props.content.type},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.changeStatusArchived=function(){"archive"===a.state.type?(a.props.onUpdateCard(a.props.card,{cardStatus:1},a.props.listIndex,a.props.cardIndex),a.props.handleParentClose(),a.setState({open:!1})):(a.props.onDeleteCard(a.props.card.cardId,a.props.listIndex,a.props.cardIndex),a.props.handleParentClose(),a.setState({open:!1}))},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(dt.a,{color:"primary",className:e.button,fullWidth:!0,onClick:this.handleClickOpen},this.state.type),r.a.createElement(Zn.a,{open:this.state.open,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Yn.a,{id:"alert-dialog-slide-title"},"Confirmation"),r.a.createElement(Ar.a,null,r.a.createElement(vr.a,{id:"alert-dialog-slide-description"},"Are you sure you want to ",this.state.type," this card ?")),r.a.createElement(Tr.a,null,r.a.createElement(dt.a,{onClick:this.handleClose,color:"secondary"},"Cancel"),r.a.createElement(dt.a,{onClick:this.changeStatusArchived,color:"primary"},this.state.type))))}}]),t}(r.a.Component),Sr={onUpdateCard:le.cardAction.updatecard,onDeleteCard:le.cardAction.deleteCard},Dr=Object(Qt.a)(function(e){return{}},Sr)(Object(Ke.withStyles)(zn)(Lr)),Pr=a(123),kr=a.n(Pr),Mr=a(125),Nr=a.n(Mr),wr=a(101),xr=a.n(wr),Fr=a(233),Br=a.n(Fr),Ur=a(232),Gr=a.n(Ur),Hr=a(230),Wr=a.n(Hr),Vr=a(231),Jr=a.n(Vr),zr=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleOpenDialog=function(){a.setState({open:!0})},a.handleCloseDialog=function(){a.setState({open:!1})},a.removeMember=function(e){return function(e){var t=a.props,n=t.onRemoveMember,r=t.listindex,i=t.cardindex,o=e.currentTarget.id.split("/")[1],s=a.props.membersOnCard[o],c=a.props.card.cardId,l=Array.from(a.props.membersOnCard),d=Array.from(a.props.membersOffCard);d.push(s),l.splice(o,1),n(s.memberId,c,l,d,r,i,o),a.setState({maj:!0})}},a.handleChangeNewMember=function(e){a.setState(Object(at.a)({},e.target.name,e.target.value))},a.addMember=a.addMember.bind(Object(ze.a)(Object(ze.a)(a))),a.removeMember=a.removeMember.bind(Object(ze.a)(Object(ze.a)(a))),a.handleOpenDialog=a.handleOpenDialog.bind(Object(ze.a)(Object(ze.a)(a))),a.handleCloseDialog=a.handleCloseDialog.bind(Object(ze.a)(Object(ze.a)(a))),a.componentDidMount=a.componentDidMount.bind(Object(ze.a)(Object(ze.a)(a))),a.state={open:!1},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentDidMount",value:function(){this.props.onGetMembersOnCard(this.props.card.cardId,this.props.route.params.id),this.setState({membersOnCard:this.props.membersOnCard,membersOffCard:this.props.membersOffCard,newMemberIndex:-1})}},{key:"addMember",value:function(e){var t=this.props,a=t.onAddMember,n=t.listindex,r=t.cardindex,i=this.state.newMemberIndex,o=this.props.membersOffCard[i],s=this.props.card.cardId,c=Array.from(this.props.membersOnCard),l=Array.from(this.props.membersOffCard);c.push(o),l.splice(i,1),o&&a(o.memberId,s,c,l,n,r,o),this.setState({membersOnCard:c,membersOffCard:l})}},{key:"render",value:function(){var e=this,t=this.props,a=t.membersOnCard,n=t.membersOffCard,i=t.classes,o=Object(Kn.a)(t,["membersOnCard","membersOffCard","classes"]),s=r.a.createElement(an.a,{className:i.memberList+" "+i.marginBottomTop+" "+i.modalWidth},"true"===this.props.isloading?r.a.createElement(Ta,{size:15}):r.a.createElement("div",null,a.map(function(t,a){return r.a.createElement(rn.a,{key:t.memberId,className:i.memberItem},r.a.createElement($t.a,{primary:t.memberPseudo}),r.a.createElement(Ya.a,{TransitionComponent:Za.a,TransitionProps:{timeout:600},title:"Remove",placement:"top-start"},r.a.createElement(xr.a,{checked:!0,id:"members/"+a,onChange:e.removeMember("membersOnCard"),value:"membersOnCard"})))}))),c=r.a.createElement("div",{className:i.modalWidth},"true"===this.props.isloading?r.a.createElement(Ta,{size:15}):r.a.createElement(Jr.a,{className:i.formControl+" "+i.modalWidth},r.a.createElement(Wr.a,{htmlFor:"new-member"},"Members"),r.a.createElement(Gr.a,{value:this.state.newMemberIndex,onChange:this.handleChangeNewMember,inputProps:{name:"newMemberIndex",id:"new-member"}},n.map(function(e,t){return r.a.createElement(Br.a,{key:t,value:t},e.memberPseudo)}))));return r.a.createElement("div",null,r.a.createElement(dt.a,{color:"primary",className:i.button,fullWidth:!0,onClick:this.handleOpenDialog},"Members"),r.a.createElement(Zn.a,Object.assign({open:this.state.open,onClose:this.handleCloseDialog.bind(this),"aria-labelledby":"simple-dialog-title"},o),r.a.createElement(Yn.a,{id:"simple-dialog-title"},"Members"),r.a.createElement(Ar.a,{className:i.modalWidth},r.a.createElement(Ye.a,{alignItems:"flex-end",container:!0,className:i.marginBottom},r.a.createElement(Ye.a,{item:!0,xs:12},c),r.a.createElement(Ye.a,{item:!0,xs:12},s),r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(dt.a,{fullWidth:!0,size:"small",color:"primary",className:i.validIcon,onClick:this.addMember},"Send",r.a.createElement(ir.h,{className:i.rightIcon})))))))}}]),t}(n.Component),Kr={onAddMember:le.cardAction.addMember,onRemoveMember:le.cardAction.removeMember,onGetMembersOnCard:le.cardAction.getMembersOnCard},qr=Object(o.b)(function(e){return{isloading:e.card.isLoading.toString(),membersOnCard:e.card.membersOnCard,membersOffCard:e.card.membersOffCard}},Kr)(Object(Ke.withStyles)(function(e){return{dialogTitle:{textAlign:"center"},validIcon:{color:"#6bb53f"},divider:{paddingBottom:"60px"},rightIcon:{marginLeft:e.spacing.unit},marginBottom:{marginBottom:20},marginBottomTop:{marginTop:15},memberList:{overflowY:"scroll",height:20*e.spacing.unit},memberItem:{},errorMsg:{color:"#f44336"},formControl:{width:"100%"},button:{margin:e.spacing.unit},modalWidth:{width:"300px"}}})(zr)),Yr=a(336),Xr=a.n(Yr),Zr=(a(5861),function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleChangeTitle=function(e){return function(e){a.setState({title:e.target.value})}},a.handleChangeDueDate=function(e){return function(e){a.setState({dueDate:e.target.value})}},a.handleChangeDescription=function(e){return function(e){a.setState({description:e})}},a.getInstance=function(e){a.setState({instance:e}),e.togglePreview()},a.updateCard=a.updateCard.bind(Object(ze.a)(Object(ze.a)(a))),a.handleChangeDueDate=a.handleChangeDueDate.bind(Object(ze.a)(Object(ze.a)(a))),a.handleEditDueDate=a.handleEditDueDate.bind(Object(ze.a)(Object(ze.a)(a))),a.handleValidDueDate=a.handleValidDueDate.bind(Object(ze.a)(Object(ze.a)(a))),a.handleCancelDueDate=a.handleCancelDueDate.bind(Object(ze.a)(Object(ze.a)(a))),a.handleChangeDescription=a.handleChangeDescription.bind(Object(ze.a)(Object(ze.a)(a))),a.editDescription=a.editDescription.bind(Object(ze.a)(Object(ze.a)(a))),a.validEditDescription=a.validEditDescription.bind(Object(ze.a)(Object(ze.a)(a))),a.handleEditTitle=a.handleEditTitle.bind(Object(ze.a)(Object(ze.a)(a))),a.validEditTitle=a.validEditTitle.bind(Object(ze.a)(Object(ze.a)(a))),a.state={open:!!a.props.route.params.cardid&&a.props.route.params.cardid.toString()===a.props.currentCard.cardId.toString(),card:a.props.currentCard,description:a.props.currentCard.cardDescription,title:a.props.currentCard.cardTitle,dueDate:a.props.currentCard.cardDateTarget,editDueDate:!1,editDescription:!1,editTitle:!1,init:!1},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentDidUpdate",value:function(){this.state.init||this.setState({dueDate:this.props.currentCard.cardDateTarget,init:!0,description:this.props.currentCard.cardDescription,title:this.props.currentCard.cardTitle})}},{key:"handleEditTitle",value:function(){this.setState({editTitle:!0})}},{key:"validEditTitle",value:function(){""!==this.state.title&&(this.props.onUpdateTitle(this.props.currentCard,{cardTitle:this.state.title}),this.setState({editTitle:!1}))}},{key:"updateCard",value:function(){this.props.onUpdateCard(this.state.card,this.state.card)}},{key:"handleEditDueDate",value:function(){this.setState({editDueDate:!0})}},{key:"handleValidDueDate",value:function(){this.state.dueDate&&(this.props.onUpdateDate(this.props.currentCard,{cardDateTarget:this.state.dueDate}),this.setState({editDueDate:!1}))}},{key:"handleCancelDueDate",value:function(){this.setState({editDueDate:!1})}},{key:"editDescription",value:function(){this.state.instance.togglePreview(),this.setState({editDescription:!0})}},{key:"validEditDescription",value:function(){this.state.instance.togglePreview(),this.setState({editDescription:!1}),this.props.onUpdateDescription(this.props.currentCard,{cardDescription:this.state.description})}},{key:"render",value:function(){var e=this,t=this.props.classes;Ue.History.listen(function(t){try{var a=t.pathname.split("/")[4].toString()===e.props.currentCard.cardId.toString();e.setState({open:a})}catch(n){e.setState({open:!1})}});var a=r.a.createElement(kr.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(fr.a,null,this.props.currentCard?r.a.createElement(Ye.a,{justify:"center",container:!0},r.a.createElement(Ye.a,{xs:12,md:8,item:!0,className:t.scrollContainer},r.a.createElement(Ye.a,{item:!0,xs:12},this.props.currentCard.HaslabelCardFks.map(function(e){return e.Label?r.a.createElement(Nr.a,{key:e.labelId,style:{color:e.Label.labelColor}}):null}),this.props.refresh),r.a.createElement(Ye.a,{item:!0,xs:12},this.props.isLoading?r.a.createElement(Ta,null):this.props.currentCard.MemberhascardCardFks?this.props.currentCard.MemberhascardCardFks.map(function(e){return e.Member.memberPicture?r.a.createElement(Ca.a,{key:e.memberId,alt:e.Member.memberFirstname+"sharp",src:e.Member.memberPicture,className:Aa()(t.avatar,t.littleAvatar)}):r.a.createElement(Ca.a,{className:t.orangeAvatar,key:e.memberId},e.Member.memberFirstname.toUpperCase()[0])}):null),r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(Ye.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(Ye.a,{item:!0,xs:8},r.a.createElement(ra.a,{id:"cardTitle",label:"Title",disabled:!this.state.editTitle,className:t.textField,defaultValue:this.state.title,onChange:this.handleChangeTitle("cardTitle"),margin:"normal",fullWidth:!0})),r.a.createElement(Ye.a,{item:!0,xs:2},this.state.editTitle?r.a.createElement(ua.a,{className:t.done,size:"small","aria-label":"valid",onClick:this.validEditTitle},r.a.createElement(ir.d,{fontSize:"small"})):r.a.createElement(ua.a,{color:"primary",size:"small","aria-label":"valid",onClick:this.handleEditTitle},r.a.createElement(ir.e,{fontSize:"small"})))),this.state.editDueDate?r.a.createElement(Ye.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(Ye.a,{item:!0,xs:8},r.a.createElement(ra.a,{id:"date",label:"Due Date",type:"date",disabled:!this.state.editDueDate,value:this.state.dueDate?this.state.dueDate:"",className:t.textField,InputLabelProps:{shrink:!0},onChange:this.handleChangeDueDate("dueDate")})),r.a.createElement(Ye.a,{item:!0,xs:2},r.a.createElement(ua.a,{className:t.done,size:"small","aria-label":"valid",onClick:this.handleValidDueDate},r.a.createElement(ir.d,{fontSize:"small"}))),r.a.createElement(Ye.a,{item:!0,xs:2},r.a.createElement(ua.a,{color:"secondary",size:"small","aria-label":"valid",onClick:this.handleCancelDueDate},r.a.createElement(ir.b,{fontSize:"small"})))):r.a.createElement(Ye.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(Ye.a,{item:!0,xs:10},r.a.createElement(ra.a,{id:"date",label:"Due Date",type:"date",disabled:!this.state.editDueDate,value:this.state.dueDate?this.state.dueDate:"",className:t.textField,InputLabelProps:{shrink:!0},onChange:this.handleChangeDueDate("dueDate")})),r.a.createElement(Ye.a,{item:!0,xs:2},r.a.createElement(ua.a,{color:"primary",size:"small","aria-label":"valid",onClick:this.handleEditDueDate},r.a.createElement(ir.e,{fontSize:"small"})))),r.a.createElement(Ye.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(Ye.a,{item:!0,xs:10},r.a.createElement(Ct.a,{variant:"subtitle1",gutterBottom:!0},"Description")),r.a.createElement(Ye.a,{item:!0,xs:2},this.state.editDescription?r.a.createElement(ua.a,{className:t.done,size:"small","aria-label":"valid",onClick:this.validEditDescription},r.a.createElement(ir.d,{fontSize:"small"})):r.a.createElement(ua.a,{color:"primary",size:"small","aria-label":"valid",onClick:this.editDescription},r.a.createElement(ir.e,{fontSize:"small"}))),r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(Xr.a,{className:t.markdown+" "+t.mdeSize,getMdeInstance:this.getInstance,value:this.state.description,onChange:this.handleChangeDescription("description"),options:{autofocus:!0}}))))),r.a.createElement(Ye.a,{xs:4,item:!0},r.a.createElement(qr,{route:this.props.route,card:this.props.currentCard,listindex:this.props.listIndex,cardindex:this.props.cardIndex}),r.a.createElement(jr,{route:this.props.route,card:this.props.currentCard}),r.a.createElement(hr,{card:this.props.currentCard}),r.a.createElement(Dr,{content:{type:"archive"},card:this.state.card,listIndex:this.props.listIndex,cardIndex:this.props.cardIndex,handleParentClose:this.handleClose}),r.a.createElement(Dr,{content:{type:"delete"},card:this.state.card,listIndex:this.props.listIndex,cardIndex:this.props.cardIndex,handleParentClose:this.handleClose}))):r.a.createElement(Ta,null)));return r.a.createElement("div",null,a,r.a.createElement(Wa.a,{className:t.card},r.a.createElement(Ye.a,{justify:"center",alignItems:"center",container:!0},this.props.currentCard.HaslabelCardFks&&this.props.currentCard.HaslabelCardFks.length>0?r.a.createElement(Ye.a,{container:!0,alignItems:"center",justify:"space-between",className:t.firstRow},r.a.createElement(Ye.a,{item:!0,xs:11},this.props.currentCard.HaslabelCardFks.map(function(e){return e.Label?r.a.createElement(Nr.a,{key:e.labelId,style:{color:e.Label.labelColor}}):null})),r.a.createElement(Ye.a,{item:!0,xs:1},r.a.createElement(ua.a,{onClick:this.handleOpen,"aria-label":"Comments",size:"small",className:t.moreIcon},r.a.createElement(Dn.a,null)))):null,this.props.currentCard.HaslabelCardFks?0===this.props.currentCard.HaslabelCardFks.length?r.a.createElement(Ye.a,{container:!0,alignItems:"center",justify:"space-between",className:t.firstRow},r.a.createElement(Ye.a,{item:!0,xs:11},r.a.createElement(Ct.a,{variant:"subtitle2"},this.state.card.cardTitle)),r.a.createElement(Ye.a,{item:!0,xs:1},r.a.createElement(ua.a,{onClick:this.handleOpen,"aria-label":"Comments",size:"small",className:t.moreIcon},r.a.createElement(Dn.a,null)))):r.a.createElement(Ye.a,{container:!0,alignItems:"center"},r.a.createElement(Ct.a,{variant:"subtitle2"},this.state.card.cardTitle)):null,r.a.createElement(Ye.a,{container:!0,alignItems:"center",justify:"flex-end"},this.props.isLoading?r.a.createElement(Ta,null):this.props.currentCard.MemberhascardCardFks?this.props.currentCard.MemberhascardCardFks.map(function(e){return e.Member.memberPicture?r.a.createElement(Ca.a,{key:e.memberId,alt:e.Member.memberFirstname+"sharp",src:e.Member.memberPicture,className:Aa()(t.avatar,t.littleAvatar)}):r.a.createElement(Ca.a,{className:t.orangeAvatar,key:e.memberId},e.Member.memberFirstname.toUpperCase()[0])}):null))))}}]),t}(r.a.Component)),$r={onUpdateCard:le.cardAction.updatecard,onGetCard:le.cardAction.getCard,onUpdateDate:le.listAction.updateDueDateCard,onUpdateDescription:le.listAction.updateDescription,onUpdateTitle:le.listAction.updateCardTitle},Qr=Object(Qt.a)(function(e){return{isLoading:e.project.isLoading,refresh:e.project.maj}},$r)(Object(Ke.withStyles)(zn)(Zr)),ei=function(e){function t(){return Object(Ge.a)(this,t),Object(We.a)(this,Object(Ve.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",{className:t.listElement},r.a.createElement(Jn.b,{key:this.props.card.cardId,draggableId:this.props.card.cardId,index:this.props.index},function(t,a){return r.a.createElement("div",Object.assign({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),r.a.createElement(Qr,{currentCard:e.props.card,listIndex:e.props.listIndex,cardIndex:e.props.cardIndex,route:e.props.route}))}))}}]),t}(n.Component),ti=Object(Ke.withStyles)(function(e){return{card:{margin:1*e.spacing.unit,border:"1px solid lightgrey",borderRadius:"4px",padding:2*e.spacing.unit,maxWidth:"250px",wordWrap:"break-word",whiteSpace:"normal",backgroundColor:"white"},typography:{useNextVariants:!0},paragraph:{wordWrap:"break-word"},listElement:{marginBottom:1*e.spacing.unit}}})(ei),ai=a(73),ni=a.n(ai),ri=function(e){return{dialogTitle:{textAlign:"center"},validIcon:{color:"#6bb53f"},divider:{paddingBottom:"60px"},rightIcon:{marginLeft:e.spacing.unit},marginBottom:{marginBottom:20},marginBottomTop:{marginTop:15},memberList:{overflowY:"scroll",height:10*e.spacing.unit},memberItem:{},errorMsg:{color:"#f44336"},memberDialog:{width:"440px"}}},ii=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleClose=function(){var e=a.state.newTitle;a.setState({newTitle:""},function(){this.state.submitted?this.props.onClose(e):this.props.onClose("")})},a.handleSubmit=function(){a.setState({submitted:!0},function(){this.handleClose()})},a.close=function(){a.setState({submitted:!1},function(){this.handleClose()})},a.handleChange=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.value))}},a.state={newTitle:"",submitted:!1},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.onClose,e.selectedValue,Object(Kn.a)(e,["classes","onClose","selectedValue"]));return r.a.createElement(Zn.a,Object.assign({onClose:this.close,"aria-labelledby":"simple-dialog-title"},a),r.a.createElement(Yn.a,{id:"simple-dialog-title",className:t.dialogTitle},"Add a new ",this.props.type," "),r.a.createElement(Ar.a,null,r.a.createElement(ct.a,{id:"outlined-multiline-static",label:this.props.type+" name",name:"selectedValue",multiline:!0,rows:"3",margin:"normal",variant:"outlined",onChange:this.handleChange("newTitle")})),r.a.createElement(Tr.a,null,r.a.createElement(dt.a,{variant:"contained",disabled:!this.state.newTitle,onClick:this.handleSubmit.bind(this),color:"primary",fullWidth:!0,size:"small"},"Add ",this.props.type)))}}]),t}(n.Component),oi=Object(Ke.withStyles)(ri)(ii),si=function(e){return{listArea:{whiteSpace:"nowrap",overflowY:"auto",flexWrap:"inherit"},listHeight:{height:"100%"},list:{width:"272px",margin:"7px",marginRight:0,backgroundColor:"#1e88e5"},borderRadius:{borderTopLeftRadius:"10px",borderTopRightRadius:"10px"},borderRadiusBottom:{borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px"},listTitle:{textAlign:"left",color:"black",backgroundColor:"red",border:"1px solid grey",fontWeight:"lighter",wordBreak:"break-all"},buttonList:{marginTop:"15px",marginLeft:"30px"},button:{fontSize:"11px",color:"white",backgroundColor:"#155fa0"},dropSpace:{padding:"10px",minHeight:"20px"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},textField2:{padding:0,margin:0,color:"white"},dialogBox:{marginLeft:e.spacing.unit},badge:{left:"0",marginRight:2*e.spacing.unit,color:"white"},validEditTitle:{color:"white",left:"0",marginRight:2*e.spacing.unit},listElement:{marginBottom:20},listsGrid:{paddingLeft:5*e.spacing.unit,paddingRight:5*e.spacing.unit,maxWidth:"100%"},listTitle2:{backgroundColor:"#155fa0"},noPadding:{padding:0},TexfieldGrid:{padding:0},cardSlot:{backgroundColor:"1e88e5"},whiteText:{color:"white"},widthMax:{maxWidth:"100%",paddingLeft:5*e.spacing.unit,height:"100%"},gridList:{display:"grid",flexWrap:"nowrap",transform:"translateZ(0)"},buttonAddList:{marginBottom:5*e.spacing.unit},listItem:{width:"200px"},horizontalScrollWrapper:{width:"100%",overflowY:"auto",overflowX:"hidden",backgroundColor:"red"}}},ci=a(237),li=a.n(ci),di=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({newCardTitle:e,open:!1},function(){this.createNewCard()})},a.handleClickMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleCloseMenu=function(){a.setState({anchorEl:null})},a.handleDeleteList=function(){a.setState({isOpenDeleteDialog:!0})},a.handleOpenMenu=function(e){return function(t){a.setState(Object(at.a)({},e,!0))}},a.handleChange=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.value))}},a.state={editListTitle:!1,newListTitle:"",newCardTitle:"",isOpenAddCardDialog:!1,anchorEl:null,isOpenDeleteDialog:!1,open:!1},a.handleArchivedList=a.handleArchivedList.bind(Object(ze.a)(Object(ze.a)(a))),a.handleEditTitle=a.handleEditTitle.bind(Object(ze.a)(Object(ze.a)(a))),a.handleCloseDeleteListDialog=a.handleCloseDeleteListDialog.bind(Object(ze.a)(Object(ze.a)(a))),a.handleConfirmDeleteList=a.handleConfirmDeleteList.bind(Object(ze.a)(Object(ze.a)(a))),a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"createNewCard",value:function(){var e=this.state.newCardTitle,t=this.props.list.listId,a=this.props.list.CardListFks.length;e&&this.props.createCard(e,t,this.props.idProject,this.props.member,a)}},{key:"handleCloseDeleteListDialog",value:function(){this.setState({isOpenDeleteDialog:!1})}},{key:"handleConfirmDeleteList",value:function(){var e=this.props,t=e.list,a=e.idProject;this.props.deleteList(t.listId,a)}},{key:"handleEditTitle",value:function(){this.state.newListTitle&&this.props.updateListTitle(this.state.newListTitle,this.props.list.listId),this.setState({editListTitle:!1},function(){})}},{key:"handleArchivedList",value:function(){var e=this.props.list;this.handleCloseMenu(),this.props.archiveList(e.listId,1)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.list,i=this.state,o=i.editListTitle,s=i.anchorEl,c=Boolean(s),l=r.a.createElement(Zn.a,{open:this.state.isOpenDeleteDialog,keepMounted:!0,onClose:this.handleCloseDeleteListDialog,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Yn.a,{id:"alert-dialog-slide-title"},"Warning"),r.a.createElement(Ar.a,null,r.a.createElement(vr.a,{id:"alert-dialog-slide-description"},"Are you sure you want to delete this list ?")),r.a.createElement(Tr.a,null,r.a.createElement(dt.a,{onClick:this.handleCloseDeleteListDialog,color:"primary"},"Cancel"),r.a.createElement(dt.a,{onClick:this.handleConfirmDeleteList,color:"primary"},"Yes"))),d=r.a.createElement(li.a,null,r.a.createElement(ua.a,{onClick:this.handleClickMenu,"aria-label":"Comments",size:"small",className:a.whiteText},r.a.createElement(Dn.a,null)),r.a.createElement(fn.a,{id:"long-menu",anchorEl:s,open:c,onClose:this.handleCloseMenu,PaperProps:{style:{maxHeight:171,width:200}}},r.a.createElement(zt.a,{key:"editListTitle",onClick:this.handleOpenMenu("editListTitle")},"Edit title"),r.a.createElement(zt.a,{key:"deleteList",onClick:this.handleDeleteList},"Delete"),l,r.a.createElement(zt.a,{key:"archivedList",onClick:this.handleArchivedList},"Archived"),"))}"));return r.a.createElement(Jn.b,{draggableId:"List:"+this.props.list.listId,index:this.props.index},function(t,i){return r.a.createElement("div",Object.assign({className:a.list+" "+a.borderRadius+" "+a.borderRadiusBottom},t.draggableProps,{ref:t.innerRef}),r.a.createElement(an.a,{component:"nav",disablePadding:!0,dense:!0,className:a.borderRadius},r.a.createElement(ar.a,Object.assign({},t.dragHandleProps,{className:a.listTitle2+" "+a.borderRadius}),r.a.createElement(rr.a,null,o?r.a.createElement(vt.a,{justify:"flex-start",alignItems:"center",container:!0,className:a.noPadding},r.a.createElement(Cn.a,{badgeContent:n.CardListFks?n.CardListFks.filter(function(e){return 0===e.cardStatus}).length:0,className:a.badge,color:"error"}),r.a.createElement(vt.a,{item:!0,xs:9,className:a.TexfieldGrid},r.a.createElement(ct.a,{id:"standard-bare",className:a.textField2,defaultValue:n.listTitle,margin:"normal",onChange:e.handleChange("newListTitle")})),r.a.createElement(li.a,null,r.a.createElement(ua.a,{onClick:e.handleEditTitle,"aria-label":"valid",size:"small",className:a.validEditTitle},r.a.createElement(ir.d,null)))):r.a.createElement(vt.a,{justify:"flex-start",alignItems:"center",container:!0},r.a.createElement(Cn.a,{badgeContent:n.CardListFks?n.CardListFks.filter(function(e){return 0===e.cardStatus}).length:0,className:a.badge,color:"error"},r.a.createElement("p",{style:{color:"#155fa0"}},"p")),r.a.createElement(ht.a,{variant:"overline",className:a.whiteText},e.props.list.listTitle),d))),r.a.createElement(Jn.c,{droppableId:e.props.list.listId+":"+e.props.list.listTitle,type:"CARD"},function(t){return r.a.createElement("div",{ref:t.innerRef,className:a.dropSpace+" "+a.cardSlot,style:{flexGrow:1}},n.CardListFks.filter(function(e){return 0===e.cardStatus}).map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(ti,{key:t.cardId,card:t,listIndex:e.props.listIndex,cardIndex:a,index:a,route:e.props.route}))}),t.placeholder)}),r.a.createElement(vt.a,{container:!0,justify:"space-between"},r.a.createElement(vt.a,{item:!0,xs:12},r.a.createElement(dt.a,{fullWidth:!0,color:"primary",size:"small",className:a.button+" "+a.borderRadiusBottom,onClick:e.handleClickOpen},r.a.createElement(ni.a,null)," new card"))),r.a.createElement(oi,{type:"card",open:e.state.open,onClose:e.handleClose})))})}}]),t}(n.Component),mi=Object(Ke.withStyles)(si)(di),ui=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.value))}},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(e){a.setState({newListname:e,open:!1},function(){this.createNewList()})},a.state={newListname:"",open:!1},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"createNewList",value:function(){var e=this.state.newListname,t=this.props.idProject;e&&this.props.createListCallback(e,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.lists,i=t.idProject;return r.a.createElement(Jn.c,{droppableId:"allList",direction:"horizontal",type:"LIST"},function(t){return r.a.createElement("div",Object.assign({className:a.widthMax+" "+a.listHeight,ref:t.innerRef},t.droppableProps),r.a.createElement(Ye.a,{container:!0,justify:"flex-start",className:a.buttonAddList},r.a.createElement(dt.a,{onClick:e.handleClickOpen,variant:"outlined",color:"primary","aria-label":"Add",className:a.buttonList},r.a.createElement(ni.a,null),"New list")),r.a.createElement(Ye.a,{container:!0,id:"listScroll",className:a.listArea},0===n.length?"":n.filter(function(e){return 0===e.listStatus}).map(function(t,a){return r.a.createElement(Ye.a,{item:!0,key:t.listTitle+t.listId},r.a.createElement(mi,{idProject:i,list:t,listIndex:a,index:a,deleteList:e.props.deleteList,updateListTitle:e.props.updateListTitle,archiveList:e.props.archiveList,createCard:e.props.createCard,member:e.props.member,route:e.props.route}))}),t.placeholder,r.a.createElement(oi,{type:"list",open:e.state.open,onClose:e.handleClose})))})}}]),t}(n.Component),pi=Object(Ke.withStyles)(si)(ui),hi=function(e){function t(){return Object(Ge.a)(this,t),Object(We.a)(this,Object(Ve.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"render",value:function(){return r.a.createElement(an.a,null,this.props.activities.length>0?this.props.activities.map(function(e,t){return r.a.createElement(rn.a,{key:t},r.a.createElement(Ye.a,{justify:"space-between",container:!0},r.a.createElement(ht.a,{variant:"h6"},e.actionTitle),r.a.createElement(ht.a,{variant:"caption"},e.actionDateCreation),r.a.createElement(Ye.a,{xs:12,item:!0},r.a.createElement(ht.a,{variant:"body2"},e.actionDescription),r.a.createElement(va.a,null))))}):r.a.createElement(rn.a,{key:"0"},r.a.createElement($t.a,{primary:"0 activity founds"})))}}]),t}(n.Component),Ei=a(126),bi=a.n(Ei),fi=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).close=function(){a.setState({memberEmail:"",submitted:!1,errorMsg:""}),a.props.onClose()},a.handleChange=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.value))}},a.handleChangeCheckbox=function(e){return function(e){var t=e.target.id.split("/")[1],n=e.target.checked,r=Object.assign({},a.props.members[t]);if(console.log(r),console.log(a.props.currentmemberid),r.Member){r.Member.HaspermissionprojectMember1Fks[0].mhppState=n;var i=a.props.projectInfo.projectId,o=r.memberId,s=r.Member.HaspermissionprojectMember1Fks[0].permissionId;a.props.onUpdatePermission(i,o,s,n,a.props.members)}a.setState({maj:!0})}},a.handleRemoveFromProject=a.handleRemoveFromProject.bind(Object(ze.a)(Object(ze.a)(a))),a.handleChangeCheckbox=a.handleChangeCheckbox.bind(Object(ze.a)(Object(ze.a)(a))),a.state={memberEmail:"",submitted:!1,errorMsg:"",members:[]},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentWillReceiveProps",value:function(){this.setState({members:this.props.members})}},{key:"submitInvitation",value:function(){if(Ue.Method.isTypeEmail(this.state.memberEmail)){this.setState({errorMsg:""});var e={memberEmail:this.state.memberEmail,projectId:this.props.projectInfo.projectId};this.props.sendInvitation(e),this.setState({memberEmail:""})}else this.setState({errorMsg:"Please, provide a valid email adress."})}},{key:"handleRemoveFromProject",value:function(e){var t={projectId:this.props.projectInfo.projectId,memberId:e.currentTarget.id.split("/")[1]};this.props.removeMemberFromProject(t),console.log(e.currentTarget.id.split("/")[1]),console.log(this.props.currentmemberid),e.currentTarget.id.split("/")[1].toString()===this.props.currentmemberid.toString()?Ue.History.push("/home"):this.setState({maj:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.onUpdatePermission,t.isLoading),n=(t.isAdmin,t.setAsAdministrator,t.removeMemberFromProject,t.sendInvitation,t.projectInfo,t.classes),i=(t.onClose,t.selectedValue,Object(Kn.a)(t,["onUpdatePermission","isLoading","isAdmin","setAsAdministrator","removeMemberFromProject","sendInvitation","projectInfo","classes","onClose","selectedValue"]));return r.a.createElement(Zn.a,Object.assign({onClose:this.close.bind(this),"aria-labelledby":"simple-dialog-title"},i),r.a.createElement(Yn.a,{id:"simple-dialog-title",className:n.dialogTitle},"Members"),r.a.createElement(Ar.a,{className:n.memberDialog},r.a.createElement(vr.a,null,"Add a user on the project"),r.a.createElement(Ye.a,{alignItems:"flex-end",container:!0,className:n.marginBottom},r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(ct.a,{id:"invitationEmail",label:"Email",disabled:this.props.isLoading||!1===this.props.isAdmin,error:""!==this.state.errorMsg,fullWidth:!0,value:this.state.memberEmail,type:"email",name:"invitationEmail",margin:"normal",variant:"outlined",onChange:this.handleChange("memberEmail")})),r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(dt.a,{fullWidth:!0,size:"small",disabled:!this.props.isAdmin,color:"primary",className:n.validIcon,onClick:this.submitInvitation.bind(this)},"Send",r.a.createElement(ir.h,{className:n.rightIcon})))),r.a.createElement(ht.a,{variant:"caption",className:n.errorMsg},this.state.errorMsg),r.a.createElement(vr.a,null,"Active members"),r.a.createElement(bi.a,null),r.a.createElement(an.a,{className:n.memberList+" "+n.marginBottomTop},a?r.a.createElement(Ta,null):this.props.members?this.props.members.map(function(t){return 1===t.memberhasprojectStatus?r.a.createElement(rn.a,{key:t.Member.memberId,className:n.memberItem},r.a.createElement($t.a,{primary:t.Member.memberPseudo}),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(ua.a,{id:"member/"+t.Member.memberId,color:"secondary",onClick:e.handleRemoveFromProject},r.a.createElement(ir.b,null)),!0===e.props.isAdmin&&t.memberId!==e.props.currentmemberid?r.a.createElement(Ya.a,{TransitionComponent:Za.a,TransitionProps:{timeout:600},title:"Admin",placement:"top-start"},r.a.createElement(xr.a,{checked:t.Member.HaspermissionprojectMember1Fks[0].mhppState,id:"isAdmin/"+e.props.members.indexOf(t).toString(),onChange:e.handleChangeCheckbox("members"),value:"members"})):""))):null}):null),r.a.createElement(vr.a,null,"Invited members"),r.a.createElement(bi.a,null),r.a.createElement(an.a,{className:n.memberList},a?r.a.createElement(Ta,null):this.props.members?this.props.members.map(function(t){return 1!==t.memberhasprojectStatus?r.a.createElement(rn.a,{key:t.Member.memberId,className:n.memberItem},r.a.createElement($t.a,{primary:t.Member.memberEmail}),r.a.createElement("div",null,!0===e.props.isAdmin?r.a.createElement(dt.a,{id:"member/"+t.Member.memberId,onClick:e.handleRemoveFromProject},r.a.createElement(ir.b,null)):"")):null}):null)),r.a.createElement(Tr.a,null))}}]),t}(n.Component),gi={sendInvitation:le.projectAction.sendInvitationProject,onUpdatePermission:le.projectAction.updatePermissionMember,removeMemberFromProject:le.projectAction.removeMemberFromProject},Oi=Object(o.b)(function(e){return{projectInfo:e.project.projectInfo||[],members:e.project.members,currentmemberid:e.signin.member.memberId,isLoading:e.project.isLoading}},gi)(Object(Ke.withStyles)(ri)(fi)),Ri=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).close=function(){a.props.onClose()},a.handleChange=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.value))}},a.state={newTitle:"",submitted:!1,visibility:""},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.projectInfo!==e.projectInfo&&this.setState({visibility:this.props.projectInfo.visibility})}},{key:"componentWillReceiveProps",value:function(){this.props.projectInfo&&this.setState({visibility:this.props.projectInfo.projectVisibility})}},{key:"updateVisibility",value:function(){1===this.state.visibility?(this.setState({visibility:0}),this.props.updateProjectVisibility(0,this.props.projectInfo.projectId)):(this.setState({visibility:1}),this.props.updateProjectVisibility(1,this.props.projectInfo.projectId))}},{key:"render",value:function(){var e=this.props,t=(e.isAdmin,e.updateProjectVisibility,e.projectInfo,e.classes),a=(e.onClose,e.selectedValue,Object(Kn.a)(e,["isAdmin","updateProjectVisibility","projectInfo","classes","onClose","selectedValue"]));return r.a.createElement(Zn.a,Object.assign({onClose:this.close.bind(this),"aria-labelledby":"simple-dialog-title"},a),r.a.createElement(Yn.a,{id:"simple-dialog-title",className:t.dialogTitle},"Project visibility"),r.a.createElement(Ar.a,null,r.a.createElement(an.a,null,r.a.createElement(rn.a,null,r.a.createElement(dt.a,{disabled:0===this.state.visibility||!this.props.isAdmin,onClick:this.updateVisibility.bind(this),value:0},r.a.createElement($t.a,{primary:"Public",secondary:"This project is visible by everyone. Read Only"}),0===this.state.visibility?r.a.createElement(ir.d,null):"")),r.a.createElement(rn.a,null,r.a.createElement(dt.a,{disabled:1===this.state.visibility||!this.props.isAdmin,onClick:this.updateVisibility.bind(this),value:1},r.a.createElement($t.a,{primary:"Private",secondary:"This project is only visible by project members"}),1===this.state.visibility?r.a.createElement(ir.d,null):"")))),r.a.createElement(Tr.a,null))}}]),t}(n.Component),_i={updateProjectVisibility:le.projectAction.updateProjectVisibility},ji=Object(o.b)(function(e){return{projectInfo:e.project.projectInfo||""}},_i)(Object(Ke.withStyles)(ri)(Ri)),Ci=a(127),Ti=a.n(Ci),yi=a(130),Ai=a.n(yi),Ii=a(128),vi=a.n(Ii),Li=a(129),Si=a.n(Li),Di=a(131),Pi=a.n(Di),ki=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).onDragEnd=function(e){var t=e.source,n=e.destination,r=e.draggableId,i=a.state.lists,o=Array.from(i.filter(function(e){return 0===e.listStatus})),s=Array.from(i.filter(function(e){return 1===e.listStatus}));if(n){if("LIST"===e.type){var c=r.split(":");c=Number.parseInt(c[1]);var l=o.find(function(e){return e.listId===c}),d=o.findIndex(function(e){return e.listId===l.listId}),m=Array.from(o);m.splice(d,1),m.splice(n.index,0,l);var u=m.concat(s);a.setState({lists:u},function(){});var p=Ue.Method.computeListOrder(a.state.lists);a.props.updatePositionLists(u,p)}if("CARD"===e.type){var h=Number.parseInt(t.droppableId.split(":")[0]),E=Object.assign({},i.find(function(e){return e.listId===h})),b=Number.parseInt(n.droppableId.split(":")[0]),f=Object.assign({},i.find(function(e){return e.listId===b})),g=E.CardListFks.find(function(e){return e.cardId===r});if(b!==h){var O=Array.from(E.CardListFks.filter(function(e){return 0===e.cardStatus})),R=Array.from(E.CardListFks.filter(function(e){return 1===e.cardStatus})),_=Array.from(O);_.splice(t.index,1);var j=Array.from(f.CardListFks.filter(function(e){return 0===e.cardStatus})),C=Array.from(f.CardListFks.filter(function(e){return 1===e.cardStatus})),T=Array.from(j);T.splice(n.index,0,g),E.CardListFks=_.concat(R),f.CardListFks=T.concat(C);var y=i.findIndex(function(e){return e.listId===E.listId}),A=i.findIndex(function(e){return e.listId===f.listId}),I=Array.from(i);I.splice(y,1),I.splice(y,0,E),I.splice(A,1),I.splice(A,0,f),a.setState({lists:I},function(){a.props.updateCard(g.cardId,f.listId,I)});var v=Ue.Method.computeCardOrder(a.state.lists);a.props.onUpdatePositionCard(v)}else{var L=Array.from(E.CardListFks.filter(function(e){return 0===e.cardStatus})),S=Array.from(E.CardListFks.filter(function(e){return 1===e.cardStatus})),D=Array.from(L);D.splice(t.index,1),D.splice(n.index,0,g),E.CardListFks=D.concat(S);var P=i.findIndex(function(e){return e.listId===E.listId}),k=Array.from(i);k.splice(P,1),k.splice(P,0,E),a.setState({lists:k},function(){a.props.updatePositionLists(k)});var M=Ue.Method.computeCardOrder(a.state.lists);a.props.onUpdatePositionCard(M)}}}},a.handleChange=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.value))}},a.handleClickOpen=function(){a.setState({openMemberDialog:!0})},a.handleClickOpenVisibility=function(){a.setState({openVisibilityDialog:!0})},a.toggleDrawer=function(e,t){return function(){a.setState(Object(at.a)({},e,t))}},a.handleRestoreArchived=function(e,t){return function(n){"list"===t&&a.props.restoreList(e,0),"card"===t&&a.props.restoreCard(e,{cardStatus:0})}},a.state={lists:[],updateLists:!1,editProjectTitle:!1,newProjectTitle:"",openMemberDialog:!1,openVisibilityDialog:!1,members:[],openActivity:!1,openFilter:!1,openArchived:!1,projectInfo:""},a.socket=Ce,a.handleRestoreArchived=a.handleRestoreArchived.bind(Object(ze.a)(Object(ze.a)(a))),a.deleteList=a.deleteList.bind(Object(ze.a)(Object(ze.a)(a))),a.updateListTitle=a.updateListTitle.bind(Object(ze.a)(Object(ze.a)(a))),a.archiveList=a.archiveList.bind(Object(ze.a)(Object(ze.a)(a))),a.createCard=a.createCard.bind(Object(ze.a)(Object(ze.a)(a))),a.createNewList=a.createNewList.bind(Object(ze.a)(Object(ze.a)(a))),a.socket.on("updateLists",a.socketUpdateLists.bind(Object(ze.a)(Object(ze.a)(a)))),a.socket.on("updateProject",a.socketUpdateProject.bind(Object(ze.a)(Object(ze.a)(a)))),a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"socketUpdateLists",value:function(e){this.props.loadLists(e)}},{key:"socketUpdateProject",value:function(e){console.log(e),this.props.loadProjectInfo(e)}},{key:"componentWillMount",value:function(){var e=this.props,t=e.match,a=e.currentMemberId,n=e.logged,r=e.getMemberHasProject,i=e.getProjectInfo,o=e.getAllListsWithCards,s=e.getMemberStatus,c=e.getActivity;this.socket.emit("subscribe",this.props.match.params.id);var l=this.props.match.params.id;i(t.params.id),r(n.memberId,t.params.id),o(t.params.id),this.props.getAllMembers(this.props.match.params.id),s(t.params.id,a),c(t.params.id),this.props.onGetAllPermissions(l)}},{key:"componentWillUnmount",value:function(){this.socket.emit("unsubscribe",this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(){var e=this.props,t=e.lists,a=e.members;this.setState({updateLists:!1,lists:t,members:a})}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.hasProject,n=t.projectInfo;n&&!1===a&&1===n.projectVisibility&&Ue.History.push("/home"),this.props.lists!==e.lists&&this.setState({lists:this.props.lists},function(){}),this.props.projectInfo!==e.projectInfo&&this.setState({projectInfo:this.props.projectInfo})}},{key:"createNewList",value:function(e,t){var a=this.state.lists;0===a.length?this.props.createList(e,t,0,this.props.currentMember):this.props.createList(e,t,a.length,this.props.currentMember)}},{key:"deleteList",value:function(e,t){this.props.deleteList(e,t)}},{key:"updateListTitle",value:function(e,t){this.props.updateListTitle(e,t)}},{key:"archiveList",value:function(e){this.props.archiveList(e,1)}},{key:"createCard",value:function(e,t,a,n,r){this.props.createCard(e,t,a,this.props.currentMember,r)}},{key:"handleEditTitle",value:function(){this.setState({editProjectTitle:!0})}},{key:"handleValidationEditTitle",value:function(){this.setState({editProjectTitle:!1});var e=this.state.newProjectTitle;e&&this.props.updateTitle(e,this.props.match.params.id)}},{key:"handleClose",value:function(){this.setState({openMemberDialog:!1,openVisibilityDialog:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.match,i=t.projectInfo,o=r.a.createElement(Ti.a,{anchor:"right",open:this.state.openActivity,onClose:this.toggleDrawer("openActivity",!1)},r.a.createElement("div",{tabIndex:0,role:"button",onKeyDown:this.toggleDrawer("openActivity",!1)},r.a.createElement(vt.a,{alignItems:"center",justify:"center",container:!0},r.a.createElement(vt.a,{xs:2,item:!0},r.a.createElement(ua.a,{onClick:this.toggleDrawer("openActivity",!1),color:"inherit"},r.a.createElement(Nn.a,{color:"primary"}))),r.a.createElement(vt.a,{xs:8,item:!0},r.a.createElement(aa.a,{fullWidth:!0,color:"primary",className:a.drawer},"Activity")),r.a.createElement(vt.a,{xs:2,item:!0})),r.a.createElement("div",{className:a.drawerList},r.a.createElement(hi,{activities:this.props.activities})))),s=r.a.createElement(Ti.a,{anchor:"right",open:this.state.openArchived,onClose:this.toggleDrawer("openArchived",!1)},r.a.createElement("div",{tabIndex:0,role:"button",onKeyDown:this.toggleDrawer("openArchived",!1)},r.a.createElement(vt.a,{alignItems:"center",justify:"center",container:!0},r.a.createElement(vt.a,{xs:2,item:!0},r.a.createElement(ua.a,{onClick:this.toggleDrawer("openArchived",!1),color:"inherit"},r.a.createElement(Nn.a,{color:"primary"}))),r.a.createElement(vt.a,{xs:8,item:!0},r.a.createElement(aa.a,{fullWidth:!0,color:"primary",className:a.drawer},"Archived")),r.a.createElement(vt.a,{xs:2,item:!0}),r.a.createElement("div",{className:a.expandPanel},r.a.createElement(vi.a,null,r.a.createElement(Si.a,{expandIcon:r.a.createElement(Ai.a,null)},r.a.createElement(Ct.a,{className:a.heading},"Lists")),r.a.createElement(Pi.a,null,r.a.createElement(vt.a,{key:1,xs:12,item:!0},this.props.lists?this.props.lists.filter(function(e){return 1===e.listStatus}).map(function(t,n){return r.a.createElement(vt.a,{key:n,className:a.paper},r.a.createElement(vt.a,{alignItems:"center",justify:"space-between",wrap:"nowrap",container:!0},r.a.createElement(vt.a,{xs:10,item:!0},t.listTitle),r.a.createElement(vt.a,{xs:2,item:!0},r.a.createElement(ua.a,{size:"small","aria-label":"valid",className:a.restoreButton,onClick:e.handleRestoreArchived(t.listId,"list")},r.a.createElement(ir.g,{fontSize:"small"})))))}):r.a.createElement(vt.a,{className:a.paper}," 0 list archived")))),r.a.createElement(vi.a,null,r.a.createElement(Si.a,{expandIcon:r.a.createElement(Ai.a,null)},r.a.createElement(Ct.a,{className:a.heading},"Cards")),r.a.createElement(Pi.a,null,r.a.createElement(vt.a,{key:1,xs:12,item:!0},this.props.lists?this.props.lists.map(function(t,n){return t.CardListFks.filter(function(e,t){return 1===e.cardStatus}).map(function(t){return r.a.createElement(vt.a,{key:n+t.cardId,className:a.paper},r.a.createElement(vt.a,{alignItems:"center",justify:"space-between",wrap:"nowrap",container:!0},r.a.createElement(vt.a,{xs:10,item:!0},t.cardTitle),r.a.createElement(vt.a,{xs:2,item:!0},r.a.createElement(ua.a,{size:"small","aria-label":"valid",className:a.restoreButton,onClick:e.handleRestoreArchived(t,"card")},r.a.createElement(ir.g,{fontSize:"small"})))))})}):r.a.createElement(vt.a,{className:a.paper}," 0 card archived")))))))),c=r.a.createElement(vt.a,{container:!0,spacing:16,className:a.projectHeader},r.a.createElement(Ct.a,{variant:"h5",gutterBottom:!0,className:a.projectTitle},!1===this.state.editProjectTitle?r.a.createElement("div",null,i?i.projectTitle:"",!0===this.props.isAdmin?r.a.createElement(ir.e,{className:a.rightIcon,onClick:this.handleEditTitle.bind(this),fontSize:"small"}):""):r.a.createElement("div",null,r.a.createElement(ct.a,{id:"standard-name",label:"Project title",defaultValue:i.projectTitle,onChange:this.handleChange("newProjectTitle"),className:a.textField,margin:"normal"}),r.a.createElement(aa.a,{color:"primary",className:a.button},r.a.createElement(ir.d,{className:a.validIcon,onClick:this.handleValidationEditTitle.bind(this)})))),r.a.createElement(vt.a,{item:!0,xs:12,className:a.maxWidth},r.a.createElement(vt.a,{container:!0,className:a.maxWidth,spacing:24},r.a.createElement(vt.a,{item:!0,xs:6,sm:4,md:3,lg:2},r.a.createElement(aa.a,{fullWidth:!0,color:"primary",className:a.button,onClick:this.handleClickOpen},r.a.createElement(ir.i,{className:a.leftIcon}),this.props.members?this.props.members.length:0," Members")),r.a.createElement(Oi,{isAdmin:this.props.isAdmin,open:this.state.openMemberDialog,onClose:this.handleClose.bind(this)}),r.a.createElement(vt.a,{item:!0,xs:6,sm:4,md:3,lg:2},r.a.createElement(aa.a,{fullWidth:!0,color:"primary",className:a.button,onClick:this.handleClickOpenVisibility},r.a.createElement(ir.f,{className:a.leftIcon}),"Visibility")),r.a.createElement(ji,{isAdmin:this.props.isAdmin,open:this.state.openVisibilityDialog,onClose:this.handleClose.bind(this)}),r.a.createElement(vt.a,{item:!0,xs:6,sm:4,md:3,lg:2},r.a.createElement(aa.a,{fullWidth:!0,color:"primary",className:a.button,onClick:this.toggleDrawer("openActivity",!0)},r.a.createElement(ir.c,{className:a.leftIcon}),"Activity")),o,r.a.createElement(vt.a,{item:!0,xs:6,sm:4,md:3,lg:2},r.a.createElement(aa.a,{fullWidth:!0,color:"primary",className:a.button,onClick:this.toggleDrawer("openArchived",!0)},r.a.createElement(ir.a,{className:a.leftIcon}),"Archived")),s))),l=r.a.createElement(Jn.a,{onDragEnd:this.onDragEnd},r.a.createElement(pi,{key:"1",idProject:n.params.id,lists:this.state.lists,member:this.props.currentMember,createListCallback:this.createNewList,deleteList:this.deleteList,updateListTitle:this.updateListTitle,archiveList:this.archiveList,createCard:this.createCard,route:n}));return r.a.createElement("div",{className:a.projectBody},c,this.props.isLoading?r.a.createElement(vt.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(At,null)):r.a.createElement("div",{className:a.fullHeight,id:"container1"},l))}}]),t}(n.Component),Mi={getAllListsWithCards:le.projectAction.findAllLists,createList:le.projectAction.createList,moveList:le.projectAction.updateLists,updateCard:le.listAction.updateCard,updateCardsPosition:le.listAction.updateCardPosition,getProjectInfo:le.projectAction.getProjectInfo,updateTitle:le.projectAction.updateProjectTitle,getAllMembers:le.projectAction.findAllMembers,getMemberStatus:le.projectAction.getMemberStatus,getActivity:le.projectAction.getActivity,getMemberHasProject:le.projectAction.getMemberHasProject,onGetAllPermissions:le.projectAction.getAllPermissions,restoreList:le.listAction.updateListStatus,restoreCard:le.listAction.restoreCard,updatePositionLists:le.listAction.updatePositionLists,createCard:le.listAction.createCard,updateListTitle:le.listAction.updateListTitle,deleteList:le.listAction.deleteList,archiveList:le.listAction.updateListStatus,loadLists:le.projectAction.loadLists,loadProjectInfo:le.projectAction.loadProjectInfo,onUpdatePositionCard:le.cardAction.updatePositionCard},Ni=Object(o.b)(function(e){return{lists:e.project.lists,projectInfo:e.project.projectInfo,members:e.project.members||[],currentMember:e.signin.member,isAdmin:e.project.isAdmin||!1,logged:e.signin.member,hasProject:e.project.loggedHasProject,activities:e.project.activities,currentMemberId:e.signin.member.memberId,isLoading:e.project.isLoading}},Mi)(Object(Ke.withStyles)(function(e){return{projectBody:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',minHeight:"85%"},fullHeight:{minHeight:"85"},projectHeader:{marginTop:1*e.spacing.unit,paddingLeft:4*e.spacing.unit,paddingBottom:3*e.spacing.unit,alignText:"left",width:"100%"},projectTitle:{marginTop:1*e.spacing.unit,marginLeft:2*e.spacing.unit,alignText:"left",color:"#3f51b5"},button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit,cusor:"pointer"},validIcon:{marginLeft:e.spacing.unit,color:"#6bb53f",paddingTop:"25px"},cancelIcon:{color:"red",paddingTop:"25px"},drawer:{width:"250px"},drawerList:{overflowY:"scroll",maxHeight:60*e.spacing.unit},paper:{padding:1*e.spacing.unit,textAlign:"left",color:"black",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",border:"1px solid lightgrey",margin:"10px",borderRadius:"10px"},restoreButton:{color:"green",border:"1px solid green"},expandPanel:{width:"100%"},widthMax:{maxWidth:"100%"}}})(ki)),wi=function(e){return{marginBottom:{marginBottom:10*e.spacing.unit},logo:{marginTop:5*e.spacing.unit,marginBottom:10*e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},button:{margin:e.spacing.unit}}},xi=function(e){function t(){return Object(Ge.a)(this,t),Object(We.a)(this,Object(Ve.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentWillMount",value:function(){this.props.isAccountValidNow||Ue.History.push("/login")}},{key:"goToLogin",value:function(){Ue.History.push("/login")}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ye.a,{container:!0,justify:"center"},r.a.createElement(Ye.a,{justify:"center",container:!0,className:e.logo},r.a.createElement(Ye.a,{item:!0},r.a.createElement("img",{src:ot.a,width:"100",alt:"prello logo"}))),r.a.createElement(ht.a,{variant:"h4",gutterBottom:!0,className:e.marginBottom},"Your account is now ready for Prello."),r.a.createElement(Ye.a,{container:!0,justify:"center"},r.a.createElement(Nt.a,{variant:"outlined",color:"primary",onClick:this.goToLogin,className:e.button},"Let's start",r.a.createElement(xt.a,{className:e.rightIcon}))))}}]),t}(r.a.Component),Fi=Object(o.b)(function(e){return{isAccountValidNow:e.signup.isAccountValidNow,isLoading:e.signup.isLoading}},{})(Object(Ke.withStyles)(wi)(xi)),Bi=function(e){function t(){return Object(Ge.a)(this,t),Object(We.a)(this,Object(Ve.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname.split("/")[2];this.props.onValidateAccountWithToken(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(St,null))}}]),t}(r.a.Component),Ui={onValidateAccountWithToken:le.signupAction.validateAccountWithToken},Gi=Object(o.b)(function(e){return{}},Ui)(Object(Ke.withStyles)(wi)(Bi)),Hi=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleSnackbarClose=function(e,t){"clickaway"!==t&&a.setState({openSnackbar:!1})},a.submit=a.submit.bind(Object(ze.a)(Object(ze.a)(a))),a.goToLogin=a.goToLogin.bind(Object(ze.a)(Object(ze.a)(a))),a.state={memberEmail:"",openSnackbar:a.props.isPasswordReset},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"goToLogin",value:function(){this.props.onResetField(),Ue.History.push("/login")}},{key:"submit",value:function(){this.props.onSendNewPassword(this.state.memberEmail),this.setState({memberEmail:"",openSnackbar:!0})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(at.a)({},a,n))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ye.a,{container:!0,justify:"center"},r.a.createElement(Ye.a,{justify:"center",container:!0,className:e.logo},r.a.createElement(Ye.a,{item:!0},r.a.createElement("img",{src:ot.a,width:"70",alt:"logo of prello"}))),r.a.createElement(Ye.a,{justify:"center",container:!0},r.a.createElement(ht.a,{variant:"h6",gutterBottom:!0,className:e.paddingText},"Please, provide the email linked to your account. You will receive a new password.")),r.a.createElement(Ye.a,{item:!0,xs:8,sm:5,md:3},r.a.createElement(Ye.a,{container:!0,justify:"center"},r.a.createElement(ra.a,{required:!0,id:"memberEmail",name:"memberEmail",label:"Email",margin:"normal",value:this.state.memberEmail,fullWidth:!0,variant:"outlined",type:"email",onChange:this.handleChange.bind(this)})),r.a.createElement(Ye.a,{container:!0,justify:"center",className:e.marginBottom},r.a.createElement(Nt.a,{size:"large",fullWidth:!0,variant:"contained",color:"primary",onClick:this.submit},"Send a new password")),r.a.createElement(Ye.a,{container:!0,justify:"center"},r.a.createElement(Nt.a,{variant:"outlined",fullWidth:!0,color:"secondary",onClick:this.goToLogin},"Back",r.a.createElement(Bt.a,{className:e.rightIcon})))),r.a.createElement(ha,{handleSnackbarClose:this.handleSnackbarClose,open:this.state.openSnackbar,message:this.props.resetPasswordMsg}))}}]),t}(r.a.Component),Wi={onSendNewPassword:le.signinAction.sendNewPassword,onResetField:le.signinAction.resetField},Vi=Object(o.b)(function(e){return{resetPasswordMsg:e.signin.resetPasswordMsg,isPasswordReset:e.signin.isPasswordReset}},Wi)(Object(Ke.withStyles)(function(e){return{marginBottom:{marginBottom:10*e.spacing.unit},logo:{marginTop:5*e.spacing.unit,marginBottom:10*e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},paddingText:{padding:10}}})(Hi)),Ji=a(176),zi=a.n(Ji),Ki=a(175),qi=a.n(Ki),Yi=a(178),Xi=a.n(Yi),Zi=a(132),$i=a.n(Zi),Qi=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleChange=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.value))}},a.handleChangeCheckbox=function(e){return function(t){a.setState(Object(at.a)({},e,t.target.checked))}},a.createProject=a.createProject.bind(Object(ze.a)(Object(ze.a)(a))),a.goToProject=a.goToProject.bind(Object(ze.a)(Object(ze.a)(a))),a.handleProjectFavorite=a.handleProjectFavorite.bind(Object(ze.a)(Object(ze.a)(a))),a.state={open:!1,projectTitle:"",isPublic:!1},a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentWillMount",value:function(){var e=this.props;(0,e.onFindAllProjectsMember)(e.memberId)}},{key:"createProject",value:function(){var e=this.props,t=e.onCreateProject,a=e.memberId,n=e.member,r=1;this.state.isPublic&&(r=0),t(a,this.state.projectTitle,r,n)}},{key:"handleProjectFavorite",value:function(e){var t=this.props,a=t.onSetProjectAsFavorite,n=t.memberId,r=t.projects,i=e.currentTarget.id,o=r[i].project,s=!o.projectIsFavorite;a(n,o.projectId,s,i)}},{key:"goToProject",value:function(e){var t="/project/"+e.currentTarget.id;Ue.History.push(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.isLoading,i=t.projects,o=r.a.createElement(kr.a,{onClose:this.handleClose,"aria-labelledby":"simple-dialog-title",open:this.state.open},r.a.createElement(Ye.a,{container:!0,justify:"center",className:a.dialogCreation},r.a.createElement(ht.a,{variant:"overline"},"Create Project"),r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(va.a,null)),r.a.createElement(Ye.a,{item:!0,xs:12,className:a.textfield},r.a.createElement(ra.a,{id:"projectTitle",label:"Title",fullWidth:!0,className:a.textField,value:this.state.projectTitle,onChange:this.handleChange("projectTitle"),margin:"normal"})),r.a.createElement(Ye.a,{container:!0,justify:"space-around"},r.a.createElement(ht.a,{variant:"overline"},"Private"),r.a.createElement(_a.a,{checked:this.state.isPublic,onChange:this.handleChangeCheckbox("isPublic"),value:"isPublic",color:"default"}),r.a.createElement(ht.a,{variant:"overline"},"Public")),r.a.createElement(Ye.a,{container:!0,justify:"center"},r.a.createElement(Nt.a,{color:"primary",className:a.button,onClick:this.createProject,disabled:""===this.state.projectTitle.trim()},"Create")))),s=r.a.createElement("div",{className:a.maxWidth2},r.a.createElement("div",{id:"projectScroll",className:a.projectArea},i.map(function(t,n){return t.project.projectIsFavorite?null:r.a.createElement(Xi.a,{key:t.project.projectId,className:a.project},r.a.createElement(Ye.a,{container:!0,alignItems:"center",style:{height:"100%",width:"272px"}},r.a.createElement(Ye.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(ht.a,{variant:"overline",className:a.whiteText},t.project.Project.projectTitle),r.a.createElement(Nt.a,{color:"primary",variant:"contained",id:t.project.projectId,className:a.button+" "+a.personalBtn,onClick:e.goToProject},r.a.createElement($i.a,null)," Open")),r.a.createElement(Ye.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(ht.a,{variant:"body2",className:a.whiteText},"Contributors : "+t.contributors),r.a.createElement(lr.a,{id:n,onClick:e.handleProjectFavorite,className:a.addFavoriteButtonIcon},r.a.createElement(qi.a,null)))))}))),c=r.a.createElement("div",{className:a.maxWidth2},r.a.createElement("div",{id:"projectScroll",className:a.projectArea},i.map(function(t,n){return t.project.projectIsFavorite?r.a.createElement(Xi.a,{key:t.project.projectId,className:a.favorite},r.a.createElement(Ye.a,{container:!0,alignItems:"center",style:{height:"100%",width:"272px"}},r.a.createElement(Ye.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(ht.a,{variant:"overline",className:a.whiteText},t.project.Project.projectTitle),r.a.createElement(Nt.a,{variant:"contained",id:t.project.projectId,className:a.button+" "+a.favoriteBtn,onClick:e.goToProject},r.a.createElement($i.a,null)," Open")),r.a.createElement(Ye.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(ht.a,{variant:"body2",className:a.whiteText},"Contributors : "+t.contributors),r.a.createElement(lr.a,{id:n,onClick:e.handleProjectFavorite,className:a.addFavoriteButtonIcon},r.a.createElement(zi.a,null))))):null}))),l=r.a.createElement(Nt.a,{color:"primary",className:a.button,onClick:this.handleClickOpen},r.a.createElement(ni.a,null)," New");return r.a.createElement(Ye.a,{container:!0,justify:"center"},n?r.a.createElement(St,null):r.a.createElement(Ye.a,{container:!0,className:a.mainContainer+" "+a.maxWidth},o,r.a.createElement(Ye.a,{container:!0},r.a.createElement(ht.a,{variant:"overline"},"FAVORITE PROJECTS")),r.a.createElement(Ye.a,{container:!0},r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(va.a,null))),c,r.a.createElement(Ye.a,{container:!0,justify:"space-between",className:a.marginTop},r.a.createElement(ht.a,{variant:"overline"},"PERSONAL PROJECTS"),l),r.a.createElement(Ye.a,{container:!0},r.a.createElement(Ye.a,{item:!0,xs:12},r.a.createElement(va.a,null))),s))}}]),t}(r.a.Component),eo={onFindAllProjectsMember:le.dashboardFixAction.findAllProjectsMember,onCreateProject:le.dashboardFixAction.createProject,onSetProjectAsFavorite:le.dashboardFixAction.setAsProjectFavorite},to=Object(o.b)(function(e){return{isLoading:e.dashboardFix.isLoading,projects:e.dashboardFix.projects,memberId:e.signin.member.memberId,member:e.signin.member}},eo)(Object(Ke.withStyles)(function(e){return{root:{flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},projectArea:{whiteSpace:"nowrap",overflowY:"auto",flexWrap:"inherit",display:"flex"},project:{width:"272px",height:"120px",margin:"7px",backgroundColor:"#2c387e",color:"white",padding:e.spacing.unit},favorite:{width:"272px",height:"120px",margin:"7px",backgroundColor:"#f44336",color:"white",padding:e.spacing.unit},whiteText:{color:"white"},favoriteButtonIcon:{color:"#ffeb3b","&:hover":{color:"#ffc107"}},addFavoriteButtonIcon:{color:"#ffffe6","&:hover":{color:"#ffc107"}},personalBtn:{backgroundColor:"#3f51b5"},favoriteBtn:{backgroundColor:"#b41f18",color:"white","&:hover":{backgroundColor:"#f6685e"}},projectContainer:{paddingLeft:e.spacing.unit,paddingRight:e.spacing.unit},mainContainer:{marginLeft:30,marginRight:30},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},projectContent:{backgroundColor:"red",heigth:"100%",width:"100%"},marginTop:{marginTop:30},dialogCreation:{},textfield:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginBottom:e.spacing.unit},maxWidth:{maxWidth:"98%",marginRight:"auto",marginLeft:"auto",paddingRight:"auto",paddingLeft:"auto"},maxWidth2:{maxWidth:"98%"}}})(Qi)),ao=a(338),no=a.n(ao),ro=function(e){function t(){return Object(Ge.a)(this,t),Object(We.a)(this,Object(Ve.a)(t).apply(this,arguments))}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"leavePage",value:function(){Ue.History.push("/home")}},{key:"goToLink",value:function(e){var t=e.currentTarget.id;"linux"===t?window.open("https://drive.google.com/open?id=1r6_hcyRj3lUi73n_7h-SQdgKsrp6XBPL"):"mac"===t?window.open("https://drive.google.com/open?id=10kXDiLWnG8eUSSLbefu3Z6wSTS2fugUX"):"windows"===t&&window.open("https://drive.google.com/open?id=1T_1kY6ZImpbK8B5d9Mi88dvk2P2ucRLj")}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(Ye.a,{container:!0,justify:"center"},this.props.isLogged?null:r.a.createElement(Ye.a,{justify:"center",container:!0,className:e.logo},r.a.createElement(Ye.a,{item:!0},r.a.createElement("img",{src:ot.a,width:"100",alt:"prello logo"}))),r.a.createElement(ht.a,{variant:"h4",gutterBottom:!0,className:e.marginBottom},"Download Prello for Desktop"),r.a.createElement(Ye.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(Ye.a,{xs:10,md:5,item:!0},r.a.createElement(Ye.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(ht.a,{variant:"overline"},"Available for linux and Mac")),r.a.createElement(Ye.a,{justify:"center",container:!0,alignItems:"center"},r.a.createElement(Ye.a,{item:!0,xs:8},r.a.createElement(Ye.a,{justify:"center",container:!0,alignItems:"center"},r.a.createElement(ht.a,{variant:"caption",className:e.marginBottomXs},"By downloading Prello, you agree to the terms of use and the privacy policy.")))),r.a.createElement(Ye.a,{justify:"center",container:!0,alignItems:"center"},r.a.createElement(Ye.a,{item:!0,xs:10,sm:8,md:4,className:e.marginBottomXs},r.a.createElement(Nt.a,{id:"linux",onClick:this.goToLink,download:!0,variant:"outlined",color:"primary",fullWidth:!0,className:e.button},"Get on LINUX",r.a.createElement(gt.a,{className:e.rightIcon})))),r.a.createElement(Ye.a,{justify:"center",container:!0,alignItems:"center"},r.a.createElement(Ye.a,{item:!0,xs:10,sm:8,md:4,className:e.marginBottomXs},r.a.createElement(Nt.a,{id:"mac",onClick:this.goToLink,download:!0,variant:"outlined",color:"primary",fullWidth:!0,className:e.button},"Get on MAC",r.a.createElement(gt.a,{className:e.rightIcon})))),r.a.createElement(Ye.a,{justify:"center",container:!0,alignItems:"center"},r.a.createElement(Ye.a,{item:!0,xs:10,sm:8,md:4},r.a.createElement(Nt.a,{id:"windows",onClick:this.goToLink,download:!0,variant:"outlined",color:"primary",fullWidth:!0,className:e.button},"Get on WINDOWS",r.a.createElement(gt.a,{className:e.rightIcon}))))),r.a.createElement(Ye.a,{xs:10,md:5,item:!0},r.a.createElement(Ye.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement("img",{src:no.a,alt:"download",className:e.downloadPicture}))),this.props.isLogged?null:r.a.createElement(Ye.a,{className:e.marginTop,container:!0,justify:"center"},r.a.createElement(Ye.a,{xs:2,container:!0},r.a.createElement(Nt.a,{variant:"outlined",color:"secondary",fullWidth:!0,onClick:this.leavePage,className:e.button},"Back",r.a.createElement(Bt.a,{className:e.rightIcon}))))))}}]),t}(r.a.Component),io=Object(o.b)(function(e){return{isLogged:e.signin.isLogged}},{})(Object(Ke.withStyles)(function(e){return{marginBottom:{marginBottom:10*e.spacing.unit},marginTop:{marginTop:5*e.spacing.unit},logo:{marginTop:5*e.spacing.unit,marginBottom:10*e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},marginBottomXs:{marginBottom:2*e.spacing.unit},downloadPicture:{height:200}}})(ro)),oo=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(We.a)(this,Object(Ve.a)(t).call(this,e))).LoginContainer=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.layout},r.a.createElement($e.a,null,r.a.createElement(Qe.a,{exact:!0,path:"/login",component:_t}),r.a.createElement(Qe.a,{exact:!0,path:"/login/:memberEmail/:token",component:_t}),r.a.createElement(Qe.a,{exact:!0,path:"/signup",component:kt}),r.a.createElement(Qe.a,{path:"/invitation/:token",component:Ht}),r.a.createElement(Qe.a,{exact:!0,path:"/password-forgotten",component:Vi}),r.a.createElement(Qe.a,{exact:!0,path:"/account-confirmation",component:Fi}),r.a.createElement(Qe.a,{path:"/account-confirmation/:token",component:Gi}),r.a.createElement(Qe.a,{exact:!0,path:"/download",component:io}),r.a.createElement(Qe.a,{path:"/github_verification/:token",component:Vn}),r.a.createElement(Qe.a,{path:"*",render:function(){return r.a.createElement(et.a,{to:"/login"})}})))},a.LoaderPageContainer=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.layout},r.a.createElement(Qe.a,{component:St}))},a.DefaultContainer=function(){var e=a.props.classes;return r.a.createElement("div",{className:e.layout},r.a.createElement(Gn,null),r.a.createElement($e.a,null,r.a.createElement(Qe.a,{path:"/home",component:to}),r.a.createElement(Qe.a,{path:"/profile",component:Ua}),r.a.createElement(Qe.a,{path:"/results",component:En}),r.a.createElement(Qe.a,{exact:!0,path:"/download",component:io}),r.a.createElement(Qe.a,{path:"/invitation/:token",component:Ht}),r.a.createElement(Qe.a,{path:"/project/:id/:listid/:cardid",component:Ni}),r.a.createElement(Qe.a,{path:"/project/:id",component:Ni}),r.a.createElement(Qe.a,{exact:!0,path:"/schedules",component:Ze}),r.a.createElement(Qe.a,{path:"*",render:function(){return r.a.createElement(et.a,{to:"/home"})}})))},a.routesAuthorization=a.routesAuthorization.bind(Object(ze.a)(Object(ze.a)(a))),a.LoginContainer=a.LoginContainer.bind(Object(ze.a)(Object(ze.a)(a))),a.LoaderPageContainer=a.LoaderPageContainer.bind(Object(ze.a)(Object(ze.a)(a))),a.DefaultContainer=a.DefaultContainer.bind(Object(ze.a)(Object(ze.a)(a))),a}return Object(Je.a)(t,e),Object(He.a)(t,[{key:"componentWillMount",value:function(){this.props.onIsMemberLogged()}},{key:"routesAuthorization",value:function(){return this.props.isLoading?this.LoaderPageContainer:this.props.isLogged?this.DefaultContainer:this.LoginContainer}},{key:"render",value:function(){return r.a.createElement(tt.a,{history:Ue.History},r.a.createElement($e.a,null,r.a.createElement(Qe.a,{component:this.routesAuthorization()})))}}]),t}(n.Component),so={onIsMemberLogged:le.signinAction.isMemberLogged},co=Object(Qt.a)(function(e){return{isLogged:e.signin.isLogged,isLoading:e.signin.isLoading}},so)(Object(Ke.withStyles)(function(e){return{layout:{height:"100%",margin:"0"},paddingSide:{paddingLeft:10,paddingRight:10}}})(oo));Object(i.render)(r.a.createElement(o.a,{store:Be},r.a.createElement(co,null)),document.getElementById("root"))}},[[5581,2,1]]]);
//# sourceMappingURL=main.f8899e58.chunk.js.map